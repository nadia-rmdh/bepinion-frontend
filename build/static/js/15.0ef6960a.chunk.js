(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[15],{408:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a(415),l=a.n(n);function i(e){for(var t="",a=e.toString().split("").reverse().join(""),n=0;n<a.length;n++)n%3===0&&(t+=a.substr(n,3)+".");return"IDR "+t.split("",t.length-1).reverse().join("")}function r(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}l.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),l.a.locale("indonesia")},770:function(e,t,a){"use strict";a.r(t);var n=a(14),l=a(155),i=a.n(l),r=a(199),o=a(2),c=a(12),s=a(0),m=a.n(s),d=a(363),u=a(377),p=a(382),f=a(386),v=a(387),g=a(388),E=a(389),b=a(214),x=a(478),y=a(376),h=a(371),N=a(379),j=a(380),D=a(390),w=a(375),M=a(778),k=a(776),O=a(479),S=a(25),C=(a(8),a(85)),A=a.n(C),q=a(18),T=a(168),Y=a(33),I=a.n(Y),L={projectName:"Project Name",client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"},contractValue:1e9,stratingDate:"2021-09-07",closingDate:"2021-09-08",keyMilestones:[{activities:"Meeting Date",date:"2021-09-07"},{activities:"MoM Submission",date:"2021-09-07"},{activities:"Submission Approval",date:"2021-09-07"},{activities:"Payment Date",date:"2021-09-07"},{activities:"Payment acknowledgement",date:"2021-09-07"}],meeting:{link:"https://www.google.com/",date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},activities:[{id:1,category:"discussion",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],replies:[]},{id:2,category:"discussion",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],replies:[{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}]},{id:3,category:"deliverable",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],status:"pending",replies:[{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}]}],files:[{id:1,url:"",mime:"image"},{id:2,url:"",mime:"file"},{id:3,url:"",mime:"video"}]},J=a(408),R=a(44),F=a(54),B=a(486),U=a(743),z=a(745),V=a.n(z),P=(a(746),a(20)),H=a(747),_=a(31),G=a(22),K=a(748);var W=a(762),X=a.n(W),Z=a(108),$={draft:"Draft",pending:"For Review",rejected:"To Revise",approved:"Approved"},Q=(t.default=function(){var e,t,a,l,M,k,O,C,Y,z,W,ee,te,ae,ne,le=Object(Z.b)(),ie=Object(q.i)(),re=Object(s.useRef)(),oe=Object(s.useRef)(null),ce=Object(s.useState)(B.EditorState.createEmpty()),se=Object(c.a)(ce,2),me=se[0],de=se[1],ue=Object(s.useState)({idActivity:"",comment:""}),pe=Object(c.a)(ue,2),fe=pe[0],ve=pe[1],ge=Object(s.useState)({id:0,status:"",statusMessage:"",open:!1}),Ee=Object(c.a)(ge,2),be=Ee[0],xe=Ee[1],ye=Object(T.b)((function(){return"v1/project/".concat(ie.params.projectId,"/activity")})),he=ye.data,Ne=ye.error,je=ye.mutate,De=!he||Ne,we=Object(s.useMemo)((function(){var e,t;return null!==(e=null===he||void 0===he||null===(t=he.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[he]),Me=Object(s.useMemo)((function(){var e,t,a,n;return(null!==(e=null===we||void 0===we||null===(t=we.professional)||void 0===t?void 0:t.map((function(e){return{name:e.name,id:e.id,role:"professional"}})))&&void 0!==e?e:[]).concat([{name:null===we||void 0===we||null===(a=we.client)||void 0===a?void 0:a.name,id:null===we||void 0===we||null===(n=we.client)||void 0===n?void 0:n.id,role:"client"}])}),[we]),ke=Object(s.useMemo)((function(){var e,t;return null!==(e=null===we||void 0===we||null===(t=we.activityDetails)||void 0===t?void 0:t.filter((function(e){return"deliverable"===e.category})).sort((function(e,t){return e.id-t.id})))&&void 0!==e?e:null}),[we]),Oe=Object(S.a)({initialValues:{category:"discussion",content:{},text:"",isDraft:"false",files:[]},onSubmit:function(e,t){var a=t.setSubmitting,n=(t.setErrors,t.setValues);a(!0);var l=new FormData;l.append("category",e.category),l.append("content",JSON.stringify(e.content)),l.append("text",e.text),l.append("isDraft",e.isDraft),e.files.length>0&&e.files.filter((function(e){return!e.id})).map((function(e,t){l.append("file"+(t+1),e.file,e.file.name)})),G.a.post("v1/project/".concat(ie.params.projectId,"/activity"),l).then((function(e){_.a.success("Create Discussion Successfully"),n({category:"discussion",content:{},text:"",isDraft:"false",files:[]}),de(B.EditorState.createEmpty()),je()})).catch((function(e){_.a.error("Create Discussion Failed.")})).finally((function(){a(!1)}))}}),Se=Oe.values,Ce=(Oe.touched,Oe.errors,Oe.setValues),Ae=Oe.handleSubmit,qe=Oe.isSubmitting,Te=Object(s.useCallback)((function(e){"discussion"===e?Ce((function(t){return Object(o.a)(Object(o.a)({},t),{},{category:e})})):"draft"===(null===ke||void 0===ke?void 0:ke.pop().status)?(Ce({category:e,content:{attendees:Me,additionalAttendees:ke.pop().content.additionalAttendees,meeting:ke.pop().content.meeting},text:ke.pop().text,isDraft:"true",files:ke.pop().files}),de(B.EditorState.createWithContent(B.ContentState.createFromBlockArray(Object(B.convertFromHTML)(ke.pop().text))))):Ce((function(t){return Object(o.a)(Object(o.a)({},t),{},{category:e,content:{attendees:Me,additionalAttendees:[],meeting:{date:I()().format("DD MMMM YYYY"),startTime:I()().format("HH:mm"),endTime:""}}})}))}),[Ce,Me,ke]),Ye=Object(s.useCallback)((function(e){Ce((function(t){return Object(o.a)(Object(o.a)({},t),{},{content:Object(o.a)(Object(o.a)({},t.content),{},{additionalAttendees:null!==e&&void 0!==e?e:[]})})}))}),[Ce]),Ie=Object(s.useCallback)((function(e){var t=e.target.value;Ce((function(e){return Object(o.a)(Object(o.a)({},e),{},{content:Object(o.a)(Object(o.a)({},e.content),{},{meeting:Object(o.a)(Object(o.a)({},e.content.meeting),{},{endTime:t})})})}))}),[Ce]),Le=Object(s.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce((function(e){return Object(o.a)(Object(o.a)({},e),{},{isDraft:t})}));case 2:Ae();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ce,Ae]),Je=Object(s.useCallback)((function(e,t,a){G.a.put("v1/project/".concat(ie.params.projectId,"/activity-status"),{idActivity:e,status:t,statusMessage:a}).then((function(e){_.a.success("Verify Deliverable Successfully"),je()})).catch((function(e){_.a.error("Verify Deliverable Failed.")})).finally((function(){xe({id:0,status:"",statusMessage:"",open:!1})}))}),[ie.params.projectId,je]),Re=Object(s.useCallback)((function(e){e.preventDefault();var t=e.target.files;t[0].size>5242880?_.a.error("Maximum file size is 5mb"):Ce((function(e){return Object(o.a)(Object(o.a)({},e),{},{files:[].concat(Object(n.a)(e.files),[{preview:URL.createObjectURL(t[0]),file:t[0]}])})}))}),[Ce]),Fe=Object(s.useCallback)((function(e){Ce((function(t){return Object(o.a)(Object(o.a)({},t),{},{files:t.files.filter((function(t){return t.preview!==e}))})}))}),[Ce]),Be=Object(s.useCallback)((function(e){G.a.put("v1/project/".concat(ie.params.projectId,"/activity-meeting"),{meetingDetails:{link:we.meetingDetails.link,date:I()(e)}}).then((function(e){je()}))}),[we,ie.params.projectId,je]);return De?m.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement(d.a,{style:{width:48,height:48}})):m.a.createElement(u.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("div",{className:"font-xl font-weight-bold mb-4"},we.projectName)),m.a.createElement(p.a,{xs:"12",md:"4"},m.a.createElement(f.a,{className:"shadow-sm"},m.a.createElement(v.a,null,m.a.createElement(u.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("div",null,m.a.createElement("span",{className:"text-muted"},"Client")," ",we.client.name),m.a.createElement("div",null,m.a.createElement("span",{className:"text-muted"},"Consultant")," ",null===we||void 0===we||null===(e=we.professional[0])||void 0===e?void 0:e.name),m.a.createElement("div",null,m.a.createElement("span",{className:"text-muted"},"Contract value")," ",Object(J.b)(L.contractValue)),m.a.createElement("div",null,m.a.createElement("span",{className:"text-muted"},"Starting Date")," ",I()(we.stratingDate).format("DD MMMM YYYY")),m.a.createElement("div",null,m.a.createElement("span",{className:"text-muted"},"Closing Date")," ",I()(we.closingDate).format("DD MMMM YYYY")))))),m.a.createElement(f.a,{className:"shadow-sm"},m.a.createElement(v.a,null,m.a.createElement(u.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("div",{className:"font-lg font-weight-bold mb-3"},"Meeting"),m.a.createElement("div",{className:"text-muted"},"Meeting Link ",m.a.createElement("a",{href:we.meetingDetails.link,target:"_blank",rel:"noopener noreferrer",className:"font-weight-bold ml-1"},"Click here")," "),m.a.createElement("div",{className:"mt-2"},m.a.createElement("div",{className:"text-muted mb-1"},"Meeting Date"),m.a.createElement(g.a,null,m.a.createElement(E.a,{addonType:"prepend",className:"w-100"},m.a.createElement(A.a,{required:!0,name:"startDate",selected:new Date(null!==(t=null===we||void 0===we||null===(a=we.meetingDetails)||void 0===a?void 0:a.date)&&void 0!==t?t:I()()),dateFormat:"dd MMMM yyyy hh:mm",minDate:new Date,placeholderText:"Select a date",className:"form-control",showTimeInput:!0,autoComplete:"off",onSelect:Be,onChangeRaw:function(e){return e.preventDefault()}}),m.a.createElement(b.a,null,m.a.createElement(R.a,{icon:"calendar-alt"})))))))))),m.a.createElement(p.a,{xs:"12",md:"8"},m.a.createElement(f.a,{className:"shadow-sm"},m.a.createElement(v.a,null,m.a.createElement(u.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("div",{className:"font-lg font-weight-bold mb-3"},"Key Milestone")),m.a.createElement(p.a,{xs:"12"},m.a.createElement(x.a,{bordered:!0,className:"text-center"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Activities"),m.a.createElement("th",null,"Date"))),m.a.createElement("tbody",null,L.keyMilestones.map((function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,e.activities),m.a.createElement("td",null,I()(e.date).add(t,"days").format("DD MMMM YYYY")))}))))),m.a.createElement(p.a,{xs:"12",className:"d-flex justify-content-between align-items-center"},m.a.createElement(y.a,{color:"secondary",className:"mr-2 text-light",id:"popover-file-list"},"Project Files"),m.a.createElement(Q,{data:null===we||void 0===we?void 0:we.fileDetails}),m.a.createElement("div",null,m.a.createElement("div",{className:"mb-1 text-muted"},"Status of deliverable"),m.a.createElement("div",{className:"mb-3 text-center"},m.a.createElement(h.a,{color:"approved"===(null===ke||void 0===ke?void 0:ke.filter((function(e){return"draft"!==e.status})).pop().status)?"success":"rejected"===(null===ke||void 0===ke?void 0:ke.filter((function(e){return"draft"!==e.status})).pop().status)?"danger":"pending"===(null===ke||void 0===ke?void 0:ke.filter((function(e){return"draft"!==e.status})).pop().status)?"warning":"secondary",className:"font-lg text-light text-uppercase",style:{cursor:"pointer"},onClick:function(){return re.current.scrollIntoView({behavior:"smooth"})}},null!==(l=$[null===ke||void 0===ke?void 0:ke.filter((function(e){return"draft"!==e.status})).pop().status])&&void 0!==l?l:"Draft")))))))),m.a.createElement(p.a,{xs:"12"},m.a.createElement(f.a,{className:"shadow-sm"},m.a.createElement(v.a,null,m.a.createElement(u.a,null,m.a.createElement(p.a,{xs:"12",className:"mb-3"},m.a.createElement(y.a,{color:"".concat("discussion"===(null===Se||void 0===Se?void 0:Se.category)?"primary":"light"),className:"text-dark mr-3",onClick:function(){return Te("discussion")}},"Discussion"),"professional"===le.role&&["draft","rejected"].includes(null!==(M=null===ke||void 0===ke?void 0:ke.status)&&void 0!==M?M:"draft")&&m.a.createElement(y.a,{color:"".concat("deliverable"===(null===Se||void 0===Se?void 0:Se.category)?"primary":"light"),className:"text-dark",onClick:function(){return Te("deliverable")}},"Deliverable")),"deliverable"===Se.category&&m.a.createElement(p.a,{xs:"12"},m.a.createElement(u.a,{className:"my-3"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Meeting Date")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},null===Se||void 0===Se||null===(k=Se.content)||void 0===k||null===(O=k.meeting)||void 0===O?void 0:O.date)),m.a.createElement(u.a,{className:"my-3"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Meeting Time")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},m.a.createElement(g.a,null,m.a.createElement(E.a,{addonType:"prepend"},m.a.createElement(b.a,{className:"bg-transparent border-0 pl-0"},null===Se||void 0===Se||null===(C=Se.content)||void 0===C||null===(Y=C.meeting)||void 0===Y?void 0:Y.startTime," -"),m.a.createElement(X.a,{type:"text",mask:"99:99",value:null===Se||void 0===Se||null===(z=Se.content)||void 0===z||null===(W=z.meeting)||void 0===W?void 0:W.endTime,onChange:Ie,placeholder:"Example 08:00"},(function(e){return m.a.createElement(j.a,e)})))))),m.a.createElement(u.a,{className:"my-3"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Attendees")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9",className:"d-flex"},null===Se||void 0===Se||null===(ee=Se.content)||void 0===ee||null===(te=ee.attendees)||void 0===te?void 0:te.map((function(e,t){var a;return m.a.createElement("div",{key:t}," ",e.name,(null===Se||void 0===Se||null===(a=Se.content)||void 0===a?void 0:a.attendees.length)===t+1?"":", ")})))),m.a.createElement(u.a,{className:"my-3"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Additional attendees")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9"},m.a.createElement(H.a,{isClearable:!0,isMulti:!0,placeholder:"Input attendees email...",value:null===Se||void 0===Se||null===(ae=Se.content)||void 0===ae?void 0:ae.additionalAttendees,isValidNewOption:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},onChange:Ye,formatGroupLabel:function(e){return m.a.createElement("div",{style:{display:"flex",alignItems:"center"}},m.a.createElement("span",{style:{fontWeight:"bold",fontSize:"10px",letterSpacing:"1px"},className:"text-muted"},e.label))},noOptionsMessage:function(e){return m.a.createElement("span",null,"Input attendees email")},components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}})))),m.a.createElement(p.a,{xs:"12"},m.a.createElement(U.Editor,{editorState:me,editorStyle:{height:"300px"},onEditorStateChange:function(e){return de(e)},onContentStateChange:function(e){return function(e){Ce((function(t){return Object(o.a)(Object(o.a)({},t),{},{text:V()(e)})}))}(e)}})),m.a.createElement(p.a,{xs:"12",className:"my-3"},null===Se||void 0===Se||null===(ne=Se.files)||void 0===ne?void 0:ne.map((function(e,t){var a,n;return m.a.createElement(s.Fragment,{key:t},m.a.createElement("div",{className:"rounded border border-dark d-inline p-1"},m.a.createElement(R.a,{icon:"times",color:"#f86c6b",className:"mr-1",onClick:function(){return Fe(e.preview)},style:{cursor:"pointer"}})," ",null!==(a=null===e||void 0===e||null===(n=e.file)||void 0===n?void 0:n.name)&&void 0!==a?a:e.fileName),m.a.createElement("div",{className:"mb-3"}))}))),m.a.createElement(p.a,{xs:"12"},m.a.createElement("input",{type:"file",ref:oe,style:{display:"none"},onChange:function(e){return Re(e)}}),m.a.createElement(y.a,{color:"info",className:"text-light",onClick:function(){return oe.current.click()}}," ",m.a.createElement(R.a,{icon:"upload"})," Attachment"),m.a.createElement(y.a,{color:"primary",className:"float-right",onClick:function(){return Le("false")},disabled:qe},qe?m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{color:"light",size:"sm"})," Loading..."):"Post"),"deliverable"===Se.category&&m.a.createElement(y.a,{color:"secondary",className:"float-right mr-2 text-light",onClick:function(){return Le("true")},disabled:qe},qe?m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{color:"light",size:"sm"})," Loading..."):"Draft")))))),m.a.createElement(p.a,{xs:"12"},m.a.createElement(u.a,null,m.a.createElement(p.a,{xs:"12",md:"3"},m.a.createElement("div",{className:"mb-1 text-muted"},"Category"),m.a.createElement("div",{className:"mb-3"},m.a.createElement(P.a,{closeMenuOnSelect:!1,isClearable:!0,placeholder:"Choose a category...",components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}}))),m.a.createElement(p.a,{xs:"12",md:"3"},m.a.createElement("div",{className:"mb-1 text-muted"},"Date Sort"),m.a.createElement("div",{className:"mb-3"},m.a.createElement(P.a,{closeMenuOnSelect:!1,isClearable:!0,placeholder:"Choose a date sort...",components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}}))),m.a.createElement(p.a,{xs:"12",md:"3",className:"justify-content-end"},m.a.createElement("div",{className:"mb-1 text-muted"},"\xa0"),m.a.createElement("div",{className:"mb-3"},m.a.createElement(j.a,{type:"text",placeholder:"Search..."}))),m.a.createElement(p.a,{xs:"12"},we.activityDetails.length<=0&&m.a.createElement(f.a,{className:"shadow-sm"},m.a.createElement(v.a,{className:"position-relative"},m.a.createElement("div",{style:{width:"100%",height:"500px"},className:"d-flex align-items-center justify-content-center text-muted"}," No Activities "))),we.activityDetails.filter((function(e){return"draft"!==e.status})).sort((function(e,t){return e.id-t.id})).map((function(e,t){var a,n,l,i,r,o,c,d,g,E,b,x,j,D,w,M;return m.a.createElement(f.a,{className:"shadow-sm",key:t},m.a.createElement(v.a,{className:"position-relative"},m.a.createElement("div",{className:"position-absolute",style:{right:20}},m.a.createElement(h.a,{className:"font-lg text-uppercase text-light",color:"".concat("document"===e.category?"danger":"discussion"===e.category?"warning":"primary")},e.category)),m.a.createElement("div",{className:"font-lg font-weight-bold mb-1"},e.createdBy.name),m.a.createElement("div",{className:"text-muted mb-3"},I.a.utc(e.createdAt).local().format("DD MMMM YYYY hh:mm")),"deliverable"===e.category&&m.a.createElement("div",null,m.a.createElement(u.a,{className:"my-1"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Meeting Date")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},null===e||void 0===e||null===(a=e.content)||void 0===a||null===(n=a.meeting)||void 0===n?void 0:n.date)),m.a.createElement(u.a,{className:"my-1"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Meeting Time")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},null===e||void 0===e||null===(l=e.content)||void 0===l||null===(i=l.meeting)||void 0===i?void 0:i.startTime," - ",null===e||void 0===e||null===(r=e.content)||void 0===r||null===(o=r.meeting)||void 0===o?void 0:o.endTime)),m.a.createElement(u.a,{className:"my-1"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Attendees")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9",className:"d-flex"},null===e||void 0===e||null===(c=e.content)||void 0===c||null===(d=c.attendees)||void 0===d?void 0:d.map((function(t,a){var n;return m.a.createElement("div",{key:a}," ",t.name,m.a.createElement("span",{className:"text-capitalize"},"(",t.role,")"),(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.attendees.length)===a+1?"":",")})))),m.a.createElement(u.a,{className:"my-1"},m.a.createElement(p.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},m.a.createElement(N.a,null,"Additional attendees")),m.a.createElement(p.a,{xs:"12",md:"8",lg:"9"},null===e||void 0===e||null===(g=e.content)||void 0===g?void 0:g.additionalAttendees.map((function(e){return e.label}))))),m.a.createElement("div",{className:"mb-3 activity-text"},Object(K.a)(e.text)),m.a.createElement("div",{className:"mb-4"},null===e||void 0===e||null===(E=e.files)||void 0===E?void 0:E.map((function(e,t){return m.a.createElement(s.Fragment,{key:t},m.a.createElement("div",{className:"rounded border d-inline p-1"},m.a.createElement("a",{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-dark",style:{textDecoration:"none"}},e.fileName)),m.a.createElement("div",{className:"mb-3"}))}))),"rejected"===e.status&&m.a.createElement(f.a,{className:"border-danger"},m.a.createElement(v.a,null,m.a.createElement("div",{className:"font-weight-bold"},"Feedback"),m.a.createElement("div",null,e.statusMessage?e.statusMessage:"-"))),"pending"===e.status&&"professional"!==le.role&&m.a.createElement("div",{className:"mb-3 d-flex justify-content-end"},m.a.createElement(y.a,{color:"warning",onClick:function(){return xe({id:e.id,status:"rejected",statusMessage:"",open:!0})}},"To Revise"),m.a.createElement(y.a,{color:"success",className:"mx-2",onClick:function(){return xe({id:e.id,status:"approved",statusMessage:"",open:!0})}},"Approve"),m.a.createElement(y.a,{color:"secondary"},"Download")),(null===(b=e.content)||void 0===b||null===(x=b.replies)||void 0===x?void 0:x.length)>0&&m.a.createElement("div",{className:"pl-5"},null===(j=e.content)||void 0===j||null===(D=j.replies)||void 0===D?void 0:D.map((function(e,t){return m.a.createElement(f.a,{className:"my-1",key:t},m.a.createElement(v.a,{className:"p-3"},m.a.createElement("div",{className:"font-lg font-weight-bold mb-1"},e.createdBy.name),m.a.createElement("div",{className:"text-muted mb-3"},I()(e.createdAt).format("DD MMMM YYYY hh:mm")),m.a.createElement("div",null,e.comment)))}))),m.a.createElement("div",{className:"".concat((null===(w=e.content)||void 0===w||null===(M=w.replies)||void 0===M?void 0:M.length)>0&&"pl-5")},m.a.createElement(F.a,{rows:"3",name:"comment",id:"comment",style:{borderRadius:"10px"},className:"form-control",placeholder:"Type your reply...",value:e.id===fe.idActivity?fe.comment:"",onChange:function(t){return ve({idActivity:e.id,comment:t.target.value})},onKeyPress:function(e){"Enter"===e.key&&(e.target.blur(),G.a.post("v1/project/".concat(ie.params.projectId,"/activity-reply"),fe).then((function(e){_.a.success("Reply Successfully"),ve({idActivity:"",comment:""}),je()})).catch((function(e){_.a.error("Reply Failed")})))}}))))})),m.a.createElement("div",{ref:re}),m.a.createElement(D.a,{isOpen:be.open,centered:!0,toggle:function(){return xe({id:0,status:"",statusMessage:"",open:!1})}},m.a.createElement(w.a,{className:"p-5"},m.a.createElement(u.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("div",{className:"mb-2"},"approved"===be.status?"By clicking the 'Approve' button, you confirm that the submission has met your standards and agree to let the system proceed with the payment.":"Are you sure you want to 'Revise' this deliverable")),"rejected"===be.status&&m.a.createElement(p.a,{xs:"12"},m.a.createElement(F.a,{minRows:3,style:{borderRadius:"10px"},className:"form-control",placeholder:"Type your message...",onChange:function(e){return xe((function(t){return Object(o.a)(Object(o.a)({},t),{},{statusMessage:e.target.value})}))}})),m.a.createElement(p.a,{xs:"12",className:"d-flex justify-content-end mt-5"},m.a.createElement(y.a,{color:"secondary",className:"mr-2",onClick:function(){return xe({id:0,status:"",statusMessage:"",open:!1})}},"Cancel"),m.a.createElement(y.a,{color:"primary",className:"text-capitalize",disabled:qe,onClick:function(){return Je(be.id,be.status,be.statusMessage)}},be.status)))))))))},function(e){var t,a,n,l=e.data,i=Array(9).fill();return m.a.createElement(M.a,{trigger:"legacy",placement:"bottom",target:"popover-file-list",popperClassName:"popover-file-list"},m.a.createElement(k.a,null,m.a.createElement(u.a,{className:"p-2"},m.a.createElement(p.a,{xs:"8"},m.a.createElement("div",{className:"font-weight-bold"},"Project Files")),m.a.createElement(p.a,{xs:"4"},m.a.createElement(O.a,{striped:!0,value:(null!==(t=null===l||void 0===l||null===(a=l.fileList)||void 0===a?void 0:a.length)&&void 0!==t?t:0)/9*100},m.a.createElement("div",{className:"text-dark text-center"},"Storage Capacity ",null===l||void 0===l||null===(n=l.fileList)||void 0===n?void 0:n.length,"/9"))),m.a.createElement(p.a,{xs:"12",className:"my-3"},m.a.createElement(u.a,null,i.map((function(e,t){var a,n;return m.a.createElement(p.a,{xs:"4",key:t},m.a.createElement("a",{href:null===l||void 0===l||null===(a=l.fileList[t])||void 0===a?void 0:a.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-dark"},t+1,". ",null===l||void 0===l||null===(n=l.fileList[t])||void 0===n?void 0:n.fileName))})))),m.a.createElement(p.a,{xs:"12"},m.a.createElement("div",{className:"text-muted"},"Your project storage is limited at maximum 9 files or XX MB")))))})}}]);
//# sourceMappingURL=15.0ef6960a.chunk.js.map