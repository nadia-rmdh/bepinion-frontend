(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[5],{402:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var l=a(409),n=a.n(l);function r(e){for(var t="",a=null===e||void 0===e?void 0:e.toString().split("").reverse().join(""),l=0;l<a.length;l++)l%3===0&&(t+=a.substr(l,3)+".");return t.split("",t.length-1).reverse().join("")}function c(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}n.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),n.a.locale("indonesia")},420:function(e,t,a){"use strict";t.a={draft:"Draft",pending:"For Review",rejected:"To Revise",approved:"Approved"}},537:function(e,t,a){"use strict";a.r(t);var l=a(14),n=a(11),r=a(0),c=a.n(r),s=a(535),i=a(368),o=a(383),m=a(388),d=a(390),u=a(391),p=a(392),E=a(393),v=a(217),f=a(395),b=a(630),g=a(376),h=a(394),x=a(381),N=(a(485),a(386),a(37)),y=a.n(N),j=a(468),w=a(111),S=a(170),k=a(15),C=a(402),D=a(420),_=Object(s.b)(y.a);var R=function(e){var t=e.data,a=Object(r.useState)([]),s=Object(n.a)(a,2),i=s[0],g=s[1],h=Object(r.useCallback)((function(e){var t=e.target,a=t.value,n=t.checked;g(n?function(e){return[].concat(Object(l.a)(e),[a])}:function(e){return e.filter((function(e){return e!==a}))})}),[g]),x=Object(r.useMemo)((function(){var e,a=i.length>0?null===t||void 0===t||null===(e=t.projectList)||void 0===e?void 0:e.filter((function(e){return i.includes(e.approvalStatus)})):null===t||void 0===t?void 0:t.projectList;return null!==a&&void 0!==a?a:[]}),[t,i]);return c.a.createElement(d.a,{className:"shadow-sm"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"my-1 text-center"},c.a.createElement("h4",null,"Project Status")),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"applied",value:"applied",checked:i.includes("applied"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Applied"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"under_review",value:"under_review",checked:i.includes("under_review"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Under Review"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"tnc_review",value:"tnc_review",checked:i.includes("tnc_review"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"T&C Review"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"on_going",value:"on_going",checked:i.includes("on_going"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"On going"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"deliverable_approved",value:"deliverable_approved",checked:i.includes("deliverable_approved"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Approved"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"close",value:"close",checked:i.includes("close"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Closed"))),c.a.createElement(m.a,{xs:"12",className:"my-1"},c.a.createElement(b.a,{hover:!0,responsive:!0,className:"text-center"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-left"},"Project Name"),c.a.createElement("th",null,"Client Name"),c.a.createElement("th",null,"Completion Date"),c.a.createElement("th",null,"Deliverable Status"),c.a.createElement("th",null,"Project Status"))),c.a.createElement("tbody",null,x.length>0?x.map((function(e,t){var a,l,n,r;return c.a.createElement("tr",{key:t},c.a.createElement("td",{className:"text-left"},"on_going"===e.projectStatus?c.a.createElement(k.b,{to:"/project/".concat(e.idProject,"/wall")},e.projectName):"close"===e.projectStatus?c.a.createElement(k.b,{to:"/rate/".concat(e.idProject)},e.projectName):c.a.createElement(k.b,{to:"/project/".concat(e.idProject)},e.projectName)),c.a.createElement("td",null,e.clientName),c.a.createElement("td",null,["on_going","close","tnc_review","deliverable_approved"].includes(e.projectStatus)?y()(null!==(a=null===e||void 0===e?void 0:e.completeDate)&&void 0!==a?a:"").format("DD-MM-YYYY"):"-"),c.a.createElement("td",{className:"text-uppercase"},null!==(l=D.a[null===e||void 0===e?void 0:e.activityStatus])&&void 0!==l?l:"-"),c.a.createElement("td",{className:"text-uppercase"},"TNC REVIEW"===(null===e||void 0===e||null===(n=e.approvalStatus)||void 0===n?void 0:n.replace("_"," "))?"T&C REVIEW":null===e||void 0===e||null===(r=e.approvalStatus)||void 0===r?void 0:r.replace("_"," ")))})):c.a.createElement("tr",null,c.a.createElement("td",{colspan:"4",className:"text-center text-muted"},"No Data"))))))))},A=function(e){var t=e.data;return c.a.createElement(d.a,{className:"shadow-sm mt-3"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"my-1 text-center"},c.a.createElement("h4",null,"Project Statistics")),c.a.createElement(m.a,{xs:"12",className:"d-flex my-1 justify-content-center text-center"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of projects in tender"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(g.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.applied))),c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of active projects"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(g.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.onGoing))),c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of completed projects"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(g.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.close))))))))},O=function(e){var t,a,l=e.events,p=Object(r.useState)(null),E=Object(n.a)(p,2),v=E[0],f=E[1],b=function(e){f(e)};return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,{style:{height:"60vh"}},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h4",{className:"mb-4"},"My Calendar"),l?c.a.createElement(s.a,{popup:!0,localizer:_,defaultDate:new Date,messages:{previous:c.a.createElement("i",{className:"fa fa-angle-left"}),next:c.a.createElement("i",{className:"fa fa-angle-right"})},defaultView:"month",views:["month","agenda"],events:l,style:{height:"50vh"},onSelectEvent:function(e){return b(e)}}):c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(i.a,{style:{width:48,height:48}})))),c.a.createElement(h.a,{centered:!0,size:"sm",isOpen:!!v,toggle:function(){return b(null)}},c.a.createElement(x.a,{className:"p-4 text-center"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"d-flex justify-content-end"},c.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return b(null)}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement(m.a,{xs:"12",className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Activity"),c.a.createElement("div",{className:"font-weight-bold"},null===v||void 0===v?void 0:v.title)),c.a.createElement(m.a,{xs:"12",className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Date"),c.a.createElement("div",{className:"font-weight-bold"},y()(null===v||void 0===v?void 0:v.start).format("DD MMMM YYYY"))),c.a.createElement(m.a,{xs:"12"},c.a.createElement("div",{className:"text-muted"},"Project"),c.a.createElement(k.b,{to:"/project/".concat(null===v||void 0===v||null===(t=v.project)||void 0===t?void 0:t.id,"/wall"),className:"font-weight-bold"},null===v||void 0===v||null===(a=v.project)||void 0===a?void 0:a.name)))))))},T=function(e){var t,a=e.data,l=["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"],n={labels:a.skillList.map((function(e){var t=e.name.split(" ");return t[0].substr(0,3)+". "+(t.length>1?t[1].substr(0,5):"")+". "+(t.length>2?t[2].substr(0,6):"")})),datasets:[{label:"Skills",data:a.skillList.map((function(e){return e.value})),backgroundColor:a.skillList.map((function(e,t){return l[t%a.skillList.length]})),borderWidth:1}]},r={labels:a.sectorList.map((function(e){var t=e.name.split(" ");return t[0].substr(0,3)+". "+(t.length>1?t[1].substr(0,5):"")+". "+(t.length>2?t[2].substr(0,6):"")})),datasets:[{label:"Sectors",data:a.sectorList.map((function(e){return e.value})),backgroundColor:a.sectorList.map((function(e,t){return l[t%a.sectorList.length]})),borderWidth:1}]};return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,{style:{minHeight:"60vh"}},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h4",{className:"mb-4"},"Trends")),c.a.createElement(m.a,{xs:"12"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",md:"6",className:"px-0 mb-3 mb-md-0"},c.a.createElement("h6",null,"Average Time per Project"),c.a.createElement("div",{style:{fontSize:"30pt"}},a.totalSuccessBid?(a.totalDuration/a.totalSuccessBid).toFixed(2):0," hrs"),c.a.createElement("small",{className:"text-muted"},"Total ",a.totalDuration," hours")),c.a.createElement(m.a,{xs:"12",md:"6",className:"px-0"},c.a.createElement("h6",null,"Bid Success Rate"),c.a.createElement("div",{style:{fontSize:"30pt"}},null===(t=a.bidSuccessRate)||void 0===t?void 0:t.toFixed(2),"%"),c.a.createElement("small",{className:"text-muted"},a.totalSuccessBid,"/",a.totalBidProject," projects")),c.a.createElement(m.a,{xs:"12",md:"12",className:"mt-2"},c.a.createElement("div",null,"Skills"),c.a.createElement("div",null,c.a.createElement(j.a,{data:n,options:{maintainAspectRatio:!1,legend:!1,tooltips:{mode:"label"},responsive:!0,responsiveAnimationDuration:2e3,hover:{intersect:!0,mode:"point"},onHover:function(e,t){e.target.style.cursor=t[0]?"pointer":"default"}},height:200,width:700}))),c.a.createElement(m.a,{xs:"12",md:"12",className:"mt-2"},c.a.createElement("div",null,"Sectors"),c.a.createElement("div",null,c.a.createElement(j.a,{data:r,options:{maintainAspectRatio:!1,legend:!1,tooltips:{mode:"label"},responsive:!0,responsiveAnimationDuration:2e3,hover:{intersect:!0,mode:"point"},onHover:function(e,t){e.target.style.cursor=t[0]?"pointer":"default"}},height:200}))))))))},M=function(e){var t,a,l,n=e.data;return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h3",{className:"mb-4"},"Finance")),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Total AR"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(C.a)(null!==(t=null===n||void 0===n?void 0:n.totalAR)&&void 0!==t?t:0))),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Average AR per project"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(C.a)(null!==(a=null===n||void 0===n?void 0:n.averageAR)&&void 0!==a?a:0))),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Estimated AR based on applied projects"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(C.a)(null!==(l=null===n||void 0===n?void 0:n.estimateAR)&&void 0!==l?l:0))))))};t.default=function(e){var t=Object(w.b)(),a=Object(S.b)((function(){return"v1/user/me/dashboard"})),l=a.data,n=a.error,s=!l||n,p=Object(r.useMemo)((function(){var e,t;return null!==(e=null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[l]);return s?c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(i.a,{style:{width:48,height:48}})):c.a.createElement(o.a,{className:"mt-md-3 mt-lg-n2"},c.a.createElement(m.a,{xs:"12"},c.a.createElement(d.a,{className:"shadow-sm"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h2",{className:"font-weight-bold mb-4"},t.firstName," ",t.lastName)),c.a.createElement(m.a,{xs:"12"},c.a.createElement(R,{data:p})),c.a.createElement(m.a,{xs:"12"},c.a.createElement(A,{data:null===p||void 0===p?void 0:p.projectStatistics})),c.a.createElement(m.a,{xs:"12",lg:"5"},c.a.createElement(O,{events:null===p||void 0===p?void 0:p.calenderDetails})),c.a.createElement(m.a,{xs:"12",lg:"7"},c.a.createElement(T,{data:null===p||void 0===p?void 0:p.trendDetails})),c.a.createElement(m.a,{xs:"12"},c.a.createElement(M,{data:null===p||void 0===p?void 0:p.financeStatistics})))))))}}}]);
//# sourceMappingURL=5.9a5557ba.chunk.js.map