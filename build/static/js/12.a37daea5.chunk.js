(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[12],{403:function(e,t,a){"use strict";t.a=["success","danger","warning","secondary","info","primary","light","dark"]},672:function(e,t,a){"use strict";a.r(t);var l=a(2),n=a(12),c=a(0),r=a.n(c),m=a(340),s=a(341),i=a(331),o=a(336),d=a(330),u=a(325),E=a(344),p=a(329),v=a(342),f=a(343),b=a(197),N=a(334),g=a(27),x=a(8),h=a(403),D=a(16),y=a(158),M=a(30),j=a.n(M),Y=a(20),w=a(28);t.default=function(e){e.data;var t=Object(c.useState)(!1),a=Object(n.a)(t,2),M=a[0],C=a[1],O=Object(D.i)(),S=Object(y.b)((function(){return"v1/project/".concat(O.params.projectId)})),k=S.data,A=S.error,I=(S.mutate,!k||A),R=Object(c.useMemo)((function(){var e,t;return null!==(e=null===k||void 0===k||null===(t=k.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[k]),q=Object(g.a)({initialValues:{cost:0},validationSchema:function(){return x.d().shape({cost:x.c().min(1,"Min value 1.").label("Duration")})},onSubmit:function(e,t){var a=t.setSubmitting;t.setErrors;a(!0),Y.a.post("v1/project/".concat(O.params.projectId,"/apply"),{submittedCost:parseInt(e.cost)}).then((function(e){w.a.success("Project successfully applied.")})).catch((function(e){w.a.error("Apply project failed.")})).finally((function(){C(!M),a(!1)}))}}),B=q.values,H=q.touched,J=q.errors,P=q.setValues,V=q.handleSubmit;return I?r.a.createElement("div",null,"loading"):r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(o.a,{xs:"12",className:"d-flex justify-content-between mb-3"},r.a.createElement("div",null,r.a.createElement("div",{className:"font-lg font-weight-bold"},R.name),r.a.createElement("div",{className:"text-muted"},R.projectOwnerName),r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},"Posted")," ",j()(R.createdAt).format("DD MMMM YYYY")),r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},"Closing On")," ",j()(R.closingDate).format("DD MMMM YYYY"))),r.a.createElement("div",null,r.a.createElement("div",{className:"float-right"},R.isApplied?r.a.createElement("div",{className:"font-lg font-weight-bold text-primary"},"Applied"):r.a.createElement(d.a,{color:"primary",onClick:function(){return C(!M)}},"Apply")),r.a.createElement("br",null),r.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closing in ",j()(R.closingDate).fromNow(!0)))),r.a.createElement(o.a,{xs:"4"},r.a.createElement("div",{className:"font-lg font-weight-bold"},"Description"),r.a.createElement("div",null,R.description)),r.a.createElement(o.a,{xs:"8"},r.a.createElement("div",{className:"font-lg font-weight-bold"},"Requirements"),r.a.createElement(i.a,null,r.a.createElement(o.a,{xs:"6"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Completion Date"),r.a.createElement("div",null,j()(R.completeDate).format("DD MMMM YYYY"))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Sector"),r.a.createElement("div",null,R.sector)),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Duration"),r.a.createElement("div",null,R.duration," Hours")),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Budget"),r.a.createElement("div",null,"IDR ",R.budget))),r.a.createElement(o.a,{xs:"6"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Skills"),R.projectRequirementSkill.map((function(e,t){return r.a.createElement(u.a,{key:t,color:h.a[t],className:"w-100 text-uppercase font-sm my-1 text-light"},e.name)}))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Minimum years of experience"),r.a.createElement("div",null,"5 years")),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",null,"Bachelor Degree in Mechanical Engineering")))))),r.a.createElement(E.a,{isOpen:M,centered:!0,toggle:function(){return C(!M)}},r.a.createElement(p.a,{className:"p-5"},r.a.createElement(i.a,null,r.a.createElement(o.a,{xs:"12",className:"mb-5"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Sector"),r.a.createElement("div",null,R.sector)),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Duration"),r.a.createElement("div",null,R.duration," Hours")),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Completion Date"),r.a.createElement("div",null,j()(R.completeDate).format("DD MMMM YYYY"))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"text-muted"},"Submited Cost"),r.a.createElement(v.a,null,r.a.createElement(f.a,{addonType:"prepend"},r.a.createElement(b.a,null,"IDR")),r.a.createElement(N.a,{type:"number",name:"cost",id:"cost",value:B.cost,placeholder:"1000000",onChange:function(e){return P((function(t){return Object(l.a)(Object(l.a)({},t),{},{cost:e.target.value})}))}})),H.cost&&J.cost&&r.a.createElement("small",{className:"text-danger"},J.cost))),r.a.createElement(o.a,{xs:"12",className:"d-flex justify-content-end"},r.a.createElement(d.a,{color:"secondary",className:"mr-2",onClick:function(){return C(!M)}},"Cancel"),r.a.createElement(d.a,{color:"primary",onClick:V},"Apply")))))))}}}]);
//# sourceMappingURL=12.a37daea5.chunk.js.map