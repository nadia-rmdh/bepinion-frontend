(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[15],{419:function(e,a,t){"use strict";a.a=["success","danger","warning","secondary","info","primary","dark"]},634:function(e,a,t){"use strict";t.r(a);var l=t(2),n=t(12),c=t(0),m=t.n(c),r=t(389),s=t(390),i=t(380),o=t(385),d=t(379),u=t(374),E=t(393),p=t(378),v=t(391),f=t(392),N=t(218),b=t(383),x=t(25),g=t(8),h=t(419),M=t(17),y=t(168),D=t(33),j=t.n(D),Y=t(23),w=t(31);a.default=function(e){e.data;var a,t,D=Object(c.useState)(!1),C=Object(n.a)(D,2),O=C[0],S=C[1],k=Object(M.i)(),A=Object(y.b)((function(){return"v1/project/".concat(k.params.projectId)})),I=A.data,P=A.error,R=A.mutate,V=!I||P,q=Object(c.useMemo)((function(){var e,a;return null!==(e=null===I||void 0===I||null===(a=I.data)||void 0===a?void 0:a.data)&&void 0!==e?e:[]}),[I]),H=Object(x.a)({initialValues:{cost:0},validationSchema:function(){return g.d().shape({cost:g.c().min(1,"Min value 1.").label("Duration")})},onSubmit:function(e,a){var t=a.setSubmitting;a.setErrors;t(!0),Y.a.post("v1/project/".concat(k.params.projectId,"/apply"),{submittedCost:parseInt(e.cost)}).then((function(e){w.a.success("Project successfully applied."),R()})).catch((function(e){w.a.error("Apply project failed.")})).finally((function(){S(!O),t(!1)}))}}),X=H.values,J=H.touched,T=H.errors,W=H.setValues,B=H.handleSubmit;return V?m.a.createElement("div",null,"loading"):m.a.createElement(r.a,null,m.a.createElement(s.a,null,m.a.createElement(i.a,null,m.a.createElement(o.a,{xs:"12",className:"d-flex justify-content-between mb-3"},m.a.createElement("div",null,m.a.createElement("div",{className:"font-lg font-weight-bold"},q.name),m.a.createElement("div",{className:"text-muted"},q.projectOwnerName),m.a.createElement("div",null,m.a.createElement("span",{className:"text-muted"},"Posted")," ",j()(q.createdAt).format("DD MMMM YYYY")),m.a.createElement("div",null,m.a.createElement("span",{className:"text-muted"},"Closing On")," ",j()(q.closingDate).format("DD MMMM YYYY"))),m.a.createElement("div",null,m.a.createElement("div",{className:"float-right"},q.isApplied?m.a.createElement(d.a,{color:"primary",disabled:!0},"Applied"):m.a.createElement(d.a,{color:"primary",onClick:function(){return S(!O)}},"Apply")),m.a.createElement("br",null),m.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closing in ",j()(q.closingDate).fromNow(!0)))),m.a.createElement(o.a,{xs:"12"},m.a.createElement(i.a,null,m.a.createElement(o.a,{xs:"9"},m.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Project Details"),m.a.createElement(i.a,null,m.a.createElement(o.a,{xs:"6"},m.a.createElement("div",{className:"text-muted"},"Description"),m.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(a=q.description)&&void 0!==a?a:"")),m.a.createElement(o.a,{xs:"6"},m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Meeting Date"),m.a.createElement("div",null,j()(q.meetingDetails.date).format("DD MMMM YYYY"))),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Sector"),m.a.createElement("div",null,q.sectors.map((function(e,a){return"".concat(e.sector.name).concat(q.sectors.length===a+1?"":","," ")})))),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Duration"),m.a.createElement("div",null,q.duration," Hours")),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Minimum Contract Value"),m.a.createElement("div",null,"IDR ",q.minimumContractValue)),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Estimated Contract Value"),m.a.createElement("div",null,"IDR ",q.estimatedContractValue)),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Supporting Materials"),m.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(t=q.prerequisite)&&void 0!==t?t:"-"))))),m.a.createElement(o.a,{xs:"3"},m.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Requirements"),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Skills"),q.projectRequirementSkill.map((function(e,a){return m.a.createElement(u.a,{key:a,color:h.a[a],className:"w-100 text-uppercase font-sm my-1 text-light"},e.skill.name)}))),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Minimum years of experience"),m.a.createElement("div",null,"5 years")),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",null,"Bachelor Degree in Mechanical Engineering")))))),m.a.createElement(E.a,{isOpen:O,centered:!0,toggle:function(){return S(!O)}},m.a.createElement(p.a,{className:"p-5"},m.a.createElement(i.a,null,m.a.createElement(o.a,{xs:"12",className:"mb-5"},m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Project name"),m.a.createElement("div",null,q.name)),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Duration"),m.a.createElement("div",null,q.duration," Hours")),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Completion date"),m.a.createElement("div",null,j()(q.completeDate).format("DD MMMM YYYY"))),m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"text-muted"},"Proposed service fee"),m.a.createElement(v.a,null,m.a.createElement(f.a,{addonType:"prepend"},m.a.createElement(N.a,null,"IDR")),m.a.createElement(b.a,{type:"number",name:"cost",id:"cost",value:X.cost,placeholder:"1000000",onChange:function(e){return W((function(a){return Object(l.a)(Object(l.a)({},a),{},{cost:e.target.value})}))},onWheel:function(e){e.target.blur()}})),m.a.createElement("small",{className:"text-muted"},"*Minimum proposed service fee should be Rp XXX."),J.cost&&T.cost&&m.a.createElement("small",{className:"text-danger"},T.cost))),m.a.createElement(o.a,{xs:"12",className:"mb-3"},m.a.createElement("small",{className:"text-muted"},"*Platform fee 5% and WHT would be deducted from project value")),m.a.createElement(o.a,{xs:"12",className:"d-flex justify-content-end"},m.a.createElement(d.a,{color:"secondary",className:"mr-2",onClick:function(){return S(!O)}},"Cancel"),m.a.createElement(d.a,{color:"primary",onClick:B},"Apply")))))))}}}]);
//# sourceMappingURL=15.e9b6dbea.chunk.js.map