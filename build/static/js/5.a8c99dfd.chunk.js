(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[5],{402:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(409),l=a.n(n);function r(e){for(var t="",a=e.toString().split("").reverse().join(""),n=0;n<a.length;n++)n%3===0&&(t+=a.substr(n,3)+".");return t.split("",t.length-1).reverse().join("")}function c(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}l.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),l.a.locale("indonesia")},536:function(e,t,a){"use strict";a.r(t);var n=a(14),l=a(11),r=a(0),c=a.n(r),s=a(534),i=a(368),o=a(383),m=a(388),d=a(390),u=a(391),p=a(392),E=a(393),v=a(217),f=a(395),g=a(629),b=a(376),h=(a(484),a(386),a(37)),x=a.n(h),y=a(467),N=a(111),j=a(171),S=a(15),w=a(402),k=Object(s.b)(x.a);var C=function(e){var t=e.data,a=Object(r.useState)([]),s=Object(l.a)(a,2),i=s[0],b=s[1],h=Object(r.useCallback)((function(e){var t=e.target,a=t.value,l=t.checked;b(l?function(e){return[].concat(Object(n.a)(e),[a])}:function(e){return e.filter((function(e){return e!==a}))})}),[b]),x=Object(r.useMemo)((function(){var e,a=i.length>0?null===t||void 0===t||null===(e=t.projectList)||void 0===e?void 0:e.filter((function(e){return i.includes(e.approvalStatus)})):null===t||void 0===t?void 0:t.projectList;return null!==a&&void 0!==a?a:[]}),[t,i]);return c.a.createElement(d.a,{className:"shadow-sm"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"my-1 text-center"},c.a.createElement("h4",null,"Project Status")),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"applied",value:"applied",checked:i.includes("applied"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Applied"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"under_review",value:"under_review",checked:i.includes("under_review"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Under Review"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"tnc_review",value:"tnc_review",checked:i.includes("tnc_review"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"T&C Review"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"on_going",value:"on_going",checked:i.includes("on_going"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"On going"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"deliverable_approved",value:"deliverable_approved",checked:i.includes("deliverable_approved"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Approved"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(E.a,{addonType:"prepend"},c.a.createElement(v.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"close",value:"close",checked:i.includes("close"),onChange:h}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Closed"))),c.a.createElement(m.a,{xs:"12",className:"my-1"},c.a.createElement(g.a,{hover:!0,responsive:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Project Name"),c.a.createElement("th",null,"Client Name"),c.a.createElement("th",null,"Deliverable Status"),c.a.createElement("th",null,"Project Status"))),c.a.createElement("tbody",null,x.length>0?x.map((function(e,t){var a,n,l;return c.a.createElement("tr",{key:t},c.a.createElement("td",{className:"text-left"},"on_going"===e.projectStatus?c.a.createElement(S.b,{to:"/project/".concat(e.idProject,"/wall")},e.projectName):"close"===e.projectStatus?c.a.createElement(S.b,{to:"/rate/".concat(e.idProject)},e.projectName):e.projectName),c.a.createElement("td",null,e.clientName),c.a.createElement("td",{className:"text-uppercase"},null!==(a=null===e||void 0===e?void 0:e.activityStatus)&&void 0!==a?a:"-"),c.a.createElement("td",{className:"text-uppercase"},"TNC REVIEW"===(null===e||void 0===e||null===(n=e.approvalStatus)||void 0===n?void 0:n.replace("_"," "))?"T&C REVIEW":null===e||void 0===e||null===(l=e.approvalStatus)||void 0===l?void 0:l.replace("_"," ")))})):c.a.createElement("tr",null,c.a.createElement("td",{colspan:"4",className:"text-center text-muted"},"No Data"))))))))},R=function(e){var t=e.data;return c.a.createElement(d.a,{className:"shadow-sm mt-3"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"my-1 text-center"},c.a.createElement("h4",null,"Project Statistics")),c.a.createElement(m.a,{xs:"12",className:"d-flex my-1 justify-content-center text-center"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of projects in tender"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(b.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.applied))),c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of active projects"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(b.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.onGoing))),c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of completed projects"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(b.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.close))))))))},T=function(e){var t=e.events;return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,{style:{height:"60vh"}},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h4",{className:"mb-4"},"My Calendar"),t?c.a.createElement(s.a,{popup:!0,localizer:k,defaultDate:new Date,messages:{previous:c.a.createElement("i",{className:"fa fa-angle-left"}),next:c.a.createElement("i",{className:"fa fa-angle-right"})},defaultView:"month",views:["month","week","day","agenda"],events:t,style:{height:"50vh"}}):c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(i.a,{style:{width:48,height:48}}))))))},_=function(e){var t,a=e.data,n=["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"],l={labels:a.skillList.map((function(e){var t=e.name.split(" ");return t[0].substr(0,3)+". "+(t.length>1?t[1].substr(0,5):"")+". "+(t.length>2?t[2].substr(0,6):"")})),datasets:[{label:"Skills",data:a.skillList.map((function(e){return e.value})),backgroundColor:a.skillList.map((function(e,t){return n[t%a.skillList.length]})),borderWidth:1}]},r={labels:a.sectorList.map((function(e){var t=e.name.split(" ");return t[0].substr(0,3)+". "+(t.length>1?t[1].substr(0,5):"")+". "+(t.length>2?t[2].substr(0,6):"")})),datasets:[{label:"Sectors",data:a.sectorList.map((function(e){return e.value})),backgroundColor:a.sectorList.map((function(e,t){return n[t%a.sectorList.length]})),borderWidth:1}]};return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,{style:{minHeight:"60vh"}},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h4",{className:"mb-4"},"Trends")),c.a.createElement(m.a,{xs:"12"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",md:"6",className:"px-0 mb-3 mb-md-0"},c.a.createElement("h6",null,"Average Time per Project"),c.a.createElement("div",{style:{fontSize:"30pt"}},a.totalSuccessBid?(a.totalDuration/a.totalSuccessBid).toFixed(2):0," hrs"),c.a.createElement("small",{className:"text-muted"},"Total ",a.totalDuration," hours")),c.a.createElement(m.a,{xs:"12",md:"6",className:"px-0"},c.a.createElement("h6",null,"Bid Success Rate"),c.a.createElement("div",{style:{fontSize:"30pt"}},null===(t=a.bidSuccessRate)||void 0===t?void 0:t.toFixed(2),"%"),c.a.createElement("small",{className:"text-muted"},a.totalSuccessBid,"/",a.totalBidProject," projects")),c.a.createElement(m.a,{xs:"12",md:"12",className:"mt-2"},c.a.createElement("div",null,"Skills"),c.a.createElement("div",null,c.a.createElement(y.a,{data:l,options:{maintainAspectRatio:!1,legend:!1,tooltips:{mode:"label"},responsive:!0,responsiveAnimationDuration:2e3,hover:{intersect:!0,mode:"point"},onHover:function(e,t){e.target.style.cursor=t[0]?"pointer":"default"}},height:200,width:700}))),c.a.createElement(m.a,{xs:"12",md:"12",className:"mt-2"},c.a.createElement("div",null,"Sectors"),c.a.createElement("div",null,c.a.createElement(y.a,{data:r,options:{maintainAspectRatio:!1,legend:!1,tooltips:{mode:"label"},responsive:!0,responsiveAnimationDuration:2e3,hover:{intersect:!0,mode:"point"},onHover:function(e,t){e.target.style.cursor=t[0]?"pointer":"default"}},height:200}))))))))},A=function(e){var t,a,n,l=e.data;return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h3",{className:"mb-4"},"Finance")),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Total AR"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(w.a)(null!==(t=null===l||void 0===l?void 0:l.totalAR)&&void 0!==t?t:0))),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Average AR per project"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(w.a)(null!==(a=null===l||void 0===l?void 0:l.averageAR)&&void 0!==a?a:0))),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Estimated AR based on applied projects"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(w.a)(null!==(n=null===l||void 0===l?void 0:l.estimateAR)&&void 0!==n?n:0))))))};t.default=function(e){var t=Object(N.b)(),a=Object(j.b)((function(){return"v1/user/me/dashboard"})),n=a.data,l=a.error,s=!n||l,p=Object(r.useMemo)((function(){var e,t;return null!==(e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[n]);return s?c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(i.a,{style:{width:48,height:48}})):c.a.createElement(o.a,{className:"mt-md-3 mt-lg-n2"},c.a.createElement(m.a,{xs:"12"},c.a.createElement(d.a,{className:"shadow-sm"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h2",{className:"font-weight-bold mb-4"},t.firstName," ",t.lastName)),c.a.createElement(m.a,{xs:"12"},c.a.createElement(C,{data:p})),c.a.createElement(m.a,{xs:"12"},c.a.createElement(R,{data:null===p||void 0===p?void 0:p.projectStatistics})),c.a.createElement(m.a,{xs:"12",lg:"5"},c.a.createElement(T,{events:null===p||void 0===p?void 0:p.calenderDetails})),c.a.createElement(m.a,{xs:"12",lg:"7"},c.a.createElement(_,{data:null===p||void 0===p?void 0:p.trendDetails})),c.a.createElement(m.a,{xs:"12"},c.a.createElement(A,{data:null===p||void 0===p?void 0:p.financeStatistics})))))))}}}]);
//# sourceMappingURL=5.a8c99dfd.chunk.js.map