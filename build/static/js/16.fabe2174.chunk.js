(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[16],{401:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var l=a(411),n=a.n(l);function r(e){for(var t="",a=null===e||void 0===e?void 0:e.toString().split("").reverse().join(""),l=0;l<a.length;l++)l%3===0&&(t+=a.substr(l,3)+".");return t.split("",t.length-1).reverse().join("")}function c(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}n.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),n.a.locale("indonesia")},662:function(e,t,a){"use strict";a.r(t);var l=a(2),n=a(11),r=a(0),c=a.n(r),i=a(370),m=a(392),s=a(393),o=a(385),d=a(390),u=a(384),v=a(378),E=a(396),p=a(383),f=a(394),b=a(395),N=a(219),g=a(28),x=a(9),h=a(18),y=a(171),j=a(33),M=a.n(j),D=a(15),C=a(21),O=a(459),Y=a(112),S=a(401),k=a(172);t.default=function(e){e.data;var t,a,l,E,p=Object(h.g)(),f=Object(r.useState)(!1),b=Object(n.a)(f,2),N=b[0],g=b[1],x=Object(h.i)(),j=Object(y.b)((function(){return"v1/project/".concat(x.params.projectId)})),D=j.data,C=j.error,O=j.mutate,Y=!D||C,V=Object(r.useMemo)((function(){var e,t;return null!==(e=null===D||void 0===D||null===(t=D.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[D]);return Y?(V.status&&"open"!==V.status&&p.push("/"),c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(i.a,{style:{width:48,height:48}}))):c.a.createElement(m.a,null,c.a.createElement(s.a,null,c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",className:"d-flex justify-content-between mb-3"},c.a.createElement("div",null,c.a.createElement("div",{className:"font-lg font-weight-bold"},V.name),c.a.createElement("div",{className:"text-muted"},V.projectOwnerName),c.a.createElement("div",null,c.a.createElement("span",{className:"text-muted"},"Posted")," ",M()(V.createdAt).format("DD MMMM YYYY")),c.a.createElement("div",null,c.a.createElement("span",{className:"text-muted"},"Closing On")," ",M()(V.closingDate).format("DD MMMM YYYY"))),c.a.createElement("div",null,c.a.createElement("div",{className:"float-right"},V.isApplied?c.a.createElement(u.a,{color:"primary",disabled:!0},"Applied"):c.a.createElement(u.a,{color:"primary",disabled:"open"!==V.status,onClick:function(){return g(!N)}},"Apply")),c.a.createElement("br",null),"open"===V.status?c.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closing in ",M()(V.closingDate).fromNow(!0)):c.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closed"))),c.a.createElement(d.a,{xs:"12"},c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",lg:"9"},c.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Project Details"),c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Description"),c.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(t=V.description)&&void 0!==t?t:"")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Supporting Materials"),c.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(a=V.prerequisite)&&void 0!==a?a:"-"))),c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Meeting Date"),c.a.createElement("div",null,M()(V.meetingDetails.date).format("DD MMMM YYYY"))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Sector"),c.a.createElement("div",null,V.sectors.map((function(e,t){return"".concat(e.sector.name).concat(V.sectors.length===t+1?"":","," ")})))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Meeting Duration"),c.a.createElement("div",null,V.duration," Hours")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Minimum Contract Value"),c.a.createElement("div",null,Number.isInteger(null===V||void 0===V?void 0:V.minimumContractValue)?"IDR ".concat(Object(S.b)(null!==(l=null===V||void 0===V?void 0:V.minimumContractValue)&&void 0!==l?l:0)):null===V||void 0===V?void 0:V.minimumContractValue)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Estimated Contract Value"),c.a.createElement("div",null,Number.isInteger(null===V||void 0===V?void 0:V.estimatedContractValue)?"IDR ".concat(Object(S.b)(null!==(E=null===V||void 0===V?void 0:V.estimatedContractValue)&&void 0!==E?E:0)):null===V||void 0===V?void 0:V.estimatedContractValue))))),c.a.createElement(d.a,{xs:"12",lg:"3"},c.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Requirements"),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Skills"),V.projectRequirementSkill.map((function(e,t){return c.a.createElement(v.a,{key:t,style:{backgroundColor:k.a[e.skill.category]},className:"w-100 text-uppercase font-sm my-1 text-light"},e.skill.name)}))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Minimum years of experience"),c.a.createElement("div",null,null===V||void 0===V?void 0:V.minYearExp," years")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",null,"Bachelor Degree in Mechanical Engineering")))))),c.a.createElement(w,{modalApply:N,setModalApply:g,project:V,mutate:O,matchRoute:x})))};var w=function(e){var t,a=e.modalApply,i=e.setModalApply,m=e.project,s=e.mutate,v=e.matchRoute,h=Object(Y.b)(),y=Object(r.useState)(!1),j=Object(n.a)(y,2),k=j[0],w=j[1],V=Object(g.a)({initialValues:{cost:0},validationSchema:function(){return x.e().shape({cost:x.d().min(null===h||void 0===h?void 0:h.smcv,"Min value "+(null===h||void 0===h?void 0:h.smcv)).label("Duration")})},onSubmit:function(e,t){var l=t.setSubmitting;t.setErrors;l(!0),D.a.post("v1/project/".concat(v.params.projectId,"/apply"),{submittedCost:parseInt(e.cost)}).then((function(e){C.a.success("Project successfully applied."),s(),w(!k),i(!a)})).catch((function(e){C.a.error("Apply project failed."),w(!k)})).finally((function(){l(!1)}))}}),A=V.values,I=V.touched,R=V.errors,P=V.setValues,T=V.handleSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{isOpen:a,centered:!0,toggle:function(){return i(!a)}},c.a.createElement(p.a,{className:"p-5"},c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",className:"mb-5"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Project name"),c.a.createElement("div",null,m.name)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Duration"),c.a.createElement("div",null,m.duration," Hours")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Completion date"),c.a.createElement("div",null,M()(m.completeDate).format("DD MMMM YYYY"))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Proposed service fee"),c.a.createElement(f.a,null,c.a.createElement(b.a,{addonType:"prepend"},c.a.createElement(N.a,null,"IDR")),c.a.createElement(O.a,{placeholder:"Min. value 500.000",decimalsLimit:2,groupSeparator:".",decimalSeparator:",",value:A.cost,onValueChange:function(e){return P((function(t){return Object(l.a)(Object(l.a)({},t),{},{cost:e})}))},className:"form-control ".concat(I.cost&&R.cost&&"border border-danger")})),c.a.createElement("small",{className:"text-muted"},"*Minimum proposed service fee should be Rp ",Object(S.b)(null!==(t=null===h||void 0===h?void 0:h.smcv)&&void 0!==t?t:0)))),c.a.createElement(d.a,{xs:"12",className:"mb-3"},c.a.createElement("small",{className:"text-muted"},"*Platform fee 5% and WHT would be deducted from project value")),c.a.createElement(d.a,{xs:"12",className:"d-flex justify-content-end"},c.a.createElement(u.a,{color:"secondary",className:"mr-2",onClick:function(){return i(!a)}},"Cancel"),c.a.createElement(u.a,{color:"primary",disabled:A.cost<(null===h||void 0===h?void 0:h.smcv),onClick:function(){return w(!k)}},"Apply"))))),c.a.createElement(E.a,{isOpen:k,centered:!0,toggle:function(){return w(!k)}},c.a.createElement(p.a,{className:"p-5"},c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",className:"mb-4"},c.a.createElement("div",{className:"font-weight-bold"},"By clicking submit, you confirm that all the information provided is true and correct.")),c.a.createElement(d.a,{xs:"12",className:"d-flex justify-content-end"},c.a.createElement(u.a,{color:"secondary",className:"mr-2",onClick:function(){return w(!k)}},"No"),c.a.createElement(u.a,{color:"primary",onClick:T},"Yes"))))))}}}]);
//# sourceMappingURL=16.fabe2174.chunk.js.map