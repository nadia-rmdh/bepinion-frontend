(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[12],{371:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return r}));var n=a(376),i=a.n(n);function l(e){for(var t="",a=e.toString().split("").reverse().join(""),n=0;n<a.length;n++)n%3===0&&(t+=a.substr(n,3)+".");return"IDR "+t.split("",t.length-1).reverse().join("")}function r(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}i.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),i.a.locale("indonesia")},700:function(e,t,a){"use strict";a.r(t);var n=a(149),i=a.n(n),l=a(192),r=a(2),o=a(13),c=a(0),s=a.n(c),m=a(327),d=a(340),u=a(345),p=a(349),v=a(350),f=a(351),g=a(352),E=a(206),b=a(439),x=a(339),h=a(334),y=a(342),N=a(343),j=a(353),D=a(338),w=a(30),M=(a(8),a(85)),S=a.n(M),O=a(18),k=a(166),C=a(33),A=a.n(C),q={projectName:"Project Name",client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"},contractValue:1e9,stratingDate:"2021-09-07",closingDate:"2021-09-08",keyMilestones:[{activities:"Meeting Date",date:"2021-09-07"},{activities:"MoM Submission",date:"2021-09-07"},{activities:"Submission Approval",date:"2021-09-07"},{activities:"Payment Date",date:"2021-09-07"},{activities:"Payment acknowledgement",date:"2021-09-07"}],meeting:{link:"https://www.google.com/",date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},activities:[{id:1,category:"discussion",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],replies:[]},{id:2,category:"discussion",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],replies:[{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}]},{id:3,category:"deliverable",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],status:"pending",replies:[{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}]}],files:[{id:1,url:"",mime:"image"},{id:2,url:"",mime:"file"},{id:3,url:"",mime:"video"}]},T=a(371),Y=a(44),I=a(72),J=a(440),L=a(674),B=a(676),F=a.n(B),R=(a(677),a(21)),V=a(678),z=a(31),P=a(22),U=a(679);var H=a(693),G=a.n(H),K=a(106);t.default=function(){var e,t,a,n,M,C,B,H,W,Z,$,_,Q=Object(K.b)(),X=Object(O.i)(),ee=Object(c.useRef)(),te=Object(c.useState)(J.EditorState.createEmpty()),ae=Object(o.a)(te,2),ne=ae[0],ie=ae[1],le=Object(c.useState)({idActivity:"",comment:""}),re=Object(o.a)(le,2),oe=re[0],ce=re[1],se=Object(c.useState)({id:0,status:"",statusMessage:"",open:!1}),me=Object(o.a)(se,2),de=me[0],ue=me[1],pe=Object(k.b)((function(){return"v1/project/".concat(X.params.projectId,"/activity")})),ve=pe.data,fe=pe.error,ge=pe.mutate,Ee=!ve||fe,be=Object(c.useMemo)((function(){var e,t;return null!==(e=null===ve||void 0===ve||null===(t=ve.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[ve]),xe=Object(c.useMemo)((function(){var e,t,a,n;return(null!==(e=null===be||void 0===be||null===(t=be.professional)||void 0===t?void 0:t.map((function(e){return{name:e.name,id:e.id,role:"professional"}})))&&void 0!==e?e:[]).concat([{name:null===be||void 0===be||null===(a=be.client)||void 0===a?void 0:a.name,id:null===be||void 0===be||null===(n=be.client)||void 0===n?void 0:n.id,role:"client"}])}),[be]),he=Object(c.useMemo)((function(){var e,t;return null!==(e=null===be||void 0===be||null===(t=be.activityDetails)||void 0===t?void 0:t.filter((function(e){return"deliverable"===e.category})).pop())&&void 0!==e?e:null}),[be]),ye=Object(w.a)({initialValues:{category:"discussion",content:{},text:"",isDraft:"false"},onSubmit:function(e,t){var a=t.setSubmitting,n=(t.setErrors,t.setValues);a(!0);var i=new FormData;i.append("category",e.category),i.append("content",JSON.stringify(e.content)),i.append("text",e.text),i.append("isDraft",e.isDraft),P.a.post("v1/project/".concat(X.params.projectId,"/activity"),i).then((function(e){z.a.success("Create Discussion Successfully"),n({category:"discussion",content:{},text:""}),ie(J.EditorState.createEmpty()),ge()})).catch((function(e){z.a.error("Create Discussion Failed.")})).finally((function(){a(!1)}))}}),Ne=ye.values,je=(ye.touched,ye.errors,ye.setValues),De=ye.handleSubmit,we=ye.isSubmitting,Me=Object(c.useCallback)((function(e){"discussion"===e?je((function(t){return Object(r.a)(Object(r.a)({},t),{},{category:e})})):"draft"===(null===he||void 0===he?void 0:he.status)?(je({category:e,content:{attendees:xe,additionalAttendees:he.content.additionalAttendees,meeting:he.content.meeting},text:he.text,isDraft:"true"}),ie(J.EditorState.createWithContent(J.ContentState.createFromBlockArray(Object(J.convertFromHTML)(he.text))))):je((function(t){return Object(r.a)(Object(r.a)({},t),{},{category:e,content:{attendees:xe,additionalAttendees:[],meeting:{date:A()().format("DD MMMM YYYY"),startTime:A()().format("HH:mm"),endTime:""}}})}))}),[je,xe,he]),Se=Object(c.useCallback)((function(e){je((function(t){return Object(r.a)(Object(r.a)({},t),{},{content:Object(r.a)(Object(r.a)({},t.content),{},{additionalAttendees:null!==e&&void 0!==e?e:[]})})}))}),[je]),Oe=Object(c.useCallback)((function(e){var t=e.target.value;je((function(e){return Object(r.a)(Object(r.a)({},e),{},{content:Object(r.a)(Object(r.a)({},e.content),{},{meeting:Object(r.a)(Object(r.a)({},e.content.meeting),{},{endTime:t})})})}))}),[je]),ke=Object(c.useCallback)(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je((function(e){return Object(r.a)(Object(r.a)({},e),{},{isDraft:t})}));case 2:De();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[je,De]),Ce=Object(c.useCallback)((function(e,t,a){P.a.put("v1/project/".concat(X.params.projectId,"/activity-status"),{idActivity:e,status:t,statusMessage:a}).then((function(e){z.a.success("Verify Deliverable Successfully"),ge()})).catch((function(e){z.a.error("Verify Deliverable Failed.")})).finally((function(){ue({id:0,status:"",statusMessage:"",open:!1})}))}),[X.params.projectId,ge]);return Ee?s.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"}},s.a.createElement(m.a,{style:{width:48,height:48}})):s.a.createElement(d.a,null,s.a.createElement(u.a,{xs:"12"},s.a.createElement("div",{className:"font-xl font-weight-bold mb-4"},be.projectName)),s.a.createElement(u.a,{xs:"12",md:"4"},s.a.createElement(p.a,{className:"shadow-sm"},s.a.createElement(v.a,null,s.a.createElement(d.a,null,s.a.createElement(u.a,{xs:"12"},s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"Client")," ",be.client.name),s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"Consultant")," ",null===be||void 0===be||null===(e=be.professional[0])||void 0===e?void 0:e.name),s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"Contract value")," ",Object(T.b)(q.contractValue)),s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"Starting Date")," ",A()(be.stratingDate).format("DD MMMM YYYY")),s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"Closing Date")," ",A()(be.closingDate).format("DD MMMM YYYY")))))),s.a.createElement(p.a,{className:"shadow-sm"},s.a.createElement(v.a,null,s.a.createElement(d.a,null,s.a.createElement(u.a,{xs:"12"},s.a.createElement("div",{className:"font-lg font-weight-bold mb-3"},"Meeting"),s.a.createElement("div",{className:"text-muted"},"Meeting Link ",s.a.createElement("a",{href:q.meeting.link,target:"_blank",rel:"noopener noreferrer",className:"font-weight-bold ml-1"},"Click here")," "),s.a.createElement("div",{className:"mt-2"},s.a.createElement("div",{className:"text-muted mb-1"},"Meeting Date"),s.a.createElement(f.a,null,s.a.createElement(g.a,{addonType:"prepend",className:"w-100"},s.a.createElement(S.a,{required:!0,name:"startDate",selected:new Date(q.meeting.date+" "+q.meeting.startTime),dateFormat:"dd MMMM yyyy hh:mm",minDate:new Date,placeholderText:"Select a date",className:"form-control",showTimeInput:!0,autoComplete:"off",onChangeRaw:function(e){return e.preventDefault()}}),s.a.createElement(E.a,null,s.a.createElement(Y.a,{icon:"calendar-alt"})))))))))),s.a.createElement(u.a,{xs:"12",md:"8"},s.a.createElement(p.a,{className:"shadow-sm"},s.a.createElement(v.a,null,s.a.createElement(d.a,null,s.a.createElement(u.a,{xs:"12"},s.a.createElement("div",{className:"font-lg font-weight-bold mb-3"},"Key Milestone")),s.a.createElement(u.a,{xs:"12"},s.a.createElement(b.a,{bordered:!0,className:"text-center"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Activities"),s.a.createElement("th",null,"Date"))),s.a.createElement("tbody",null,q.keyMilestones.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.activities),s.a.createElement("td",null,A()(e.date).add(t,"days").format("DD MMMM YYYY")))}))))),s.a.createElement(u.a,{xs:"12",className:"d-flex justify-content-between align-items-center"},s.a.createElement(x.a,{color:"secondary",className:"mr-2 text-light"},"Project Files"),s.a.createElement("div",null,s.a.createElement("div",{className:"mb-1 text-muted"},"Status of deliverable"),s.a.createElement("div",{className:"mb-3 text-center"},s.a.createElement(h.a,{color:"approved"===(null===he||void 0===he?void 0:he.status)?"success":"rejected"===(null===he||void 0===he?void 0:he.status)?"danger":"pending"===(null===he||void 0===he?void 0:he.status)?"warning":"secondary",className:"font-lg text-light text-uppercase",style:{cursor:"pointer"},onClick:function(){return ee.current.scrollIntoView({behavior:"smooth"})}},null!==(t=null===he||void 0===he?void 0:he.status)&&void 0!==t?t:"Draft")))))))),s.a.createElement(u.a,{xs:"12"},s.a.createElement(p.a,{className:"shadow-sm"},s.a.createElement(v.a,null,s.a.createElement(d.a,null,s.a.createElement(u.a,{xs:"12",className:"mb-3"},s.a.createElement(x.a,{color:"".concat("discussion"===(null===Ne||void 0===Ne?void 0:Ne.category)?"primary":"light"),className:"text-dark mr-3",onClick:function(){return Me("discussion")}},"Discussion"),"professional"===Q.role&&["draft","rejected"].includes(null!==(a=null===he||void 0===he?void 0:he.status)&&void 0!==a?a:"draft")&&s.a.createElement(x.a,{color:"".concat("deliverable"===(null===Ne||void 0===Ne?void 0:Ne.category)?"primary":"light"),className:"text-dark",onClick:function(){return Me("deliverable")}},"Deliverable")),"deliverable"===Ne.category&&s.a.createElement(u.a,{xs:"12"},s.a.createElement(d.a,{className:"my-3"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Meeting Date")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},null===Ne||void 0===Ne||null===(n=Ne.content)||void 0===n||null===(M=n.meeting)||void 0===M?void 0:M.date)),s.a.createElement(d.a,{className:"my-3"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Meeting Time")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},s.a.createElement(f.a,null,s.a.createElement(g.a,{addonType:"prepend"},s.a.createElement(E.a,{className:"bg-transparent border-0 pl-0"},null===Ne||void 0===Ne||null===(C=Ne.content)||void 0===C||null===(B=C.meeting)||void 0===B?void 0:B.startTime," -"),s.a.createElement(G.a,{type:"text",mask:"99:99",value:null===Ne||void 0===Ne||null===(H=Ne.content)||void 0===H||null===(W=H.meeting)||void 0===W?void 0:W.endTime,onChange:Oe,placeholder:"Example 08:00"},(function(e){return s.a.createElement(N.a,e)})))))),s.a.createElement(d.a,{className:"my-3"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Attendees")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9",className:"d-flex"},null===Ne||void 0===Ne||null===(Z=Ne.content)||void 0===Z||null===($=Z.attendees)||void 0===$?void 0:$.map((function(e,t){var a;return s.a.createElement("div",{key:t}," ",e.name,s.a.createElement("span",{className:"text-capitalize"},"(",e.role,")"),(null===Ne||void 0===Ne||null===(a=Ne.content)||void 0===a?void 0:a.attendees.length)===t+1?"":",")})))),s.a.createElement(d.a,{className:"my-3"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Additional attendees")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9"},s.a.createElement(V.a,{isClearable:!0,isMulti:!0,placeholder:"Input attendees email...",value:null===Ne||void 0===Ne||null===(_=Ne.content)||void 0===_?void 0:_.additionalAttendees,isValidNewOption:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},onChange:Se,formatGroupLabel:function(e){return s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},s.a.createElement("span",{style:{fontWeight:"bold",fontSize:"10px",letterSpacing:"1px"},className:"text-muted"},e.label))},noOptionsMessage:function(e){return s.a.createElement("span",null,"Input attendees email")},components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}})))),s.a.createElement(u.a,{xs:"12"},s.a.createElement(L.Editor,{editorState:ne,editorStyle:{height:"300px"},onEditorStateChange:function(e){return ie(e)},onContentStateChange:function(e){return function(e){je((function(t){return Object(r.a)(Object(r.a)({},t),{},{text:F()(e)})}))}(e)}})),s.a.createElement(u.a,{xs:"12"}),s.a.createElement(u.a,{xs:"12"},s.a.createElement(x.a,{color:"info",className:"text-light"}," ",s.a.createElement(Y.a,{icon:"upload"})," Attachment"),s.a.createElement(x.a,{color:"primary",className:"float-right",onClick:function(){return ke("false")},disabled:we},we?s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{color:"light",size:"sm"})," Loading..."):"Post"),s.a.createElement(x.a,{color:"secondary",className:"float-right mr-2 text-light",onClick:function(){return ke("true")},disabled:we},we?s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{color:"light",size:"sm"})," Loading..."):"Draft")))))),s.a.createElement(u.a,{xs:"12"},s.a.createElement(d.a,null,s.a.createElement(u.a,{xs:"12",md:"3"},s.a.createElement("div",{className:"mb-1 text-muted"},"Category"),s.a.createElement("div",{className:"mb-3"},s.a.createElement(R.a,{closeMenuOnSelect:!1,isClearable:!0,placeholder:"Choose a category...",components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}}))),s.a.createElement(u.a,{xs:"12",md:"3"},s.a.createElement("div",{className:"mb-1 text-muted"},"Date Sort"),s.a.createElement("div",{className:"mb-3"},s.a.createElement(R.a,{closeMenuOnSelect:!1,isClearable:!0,placeholder:"Choose a date sort...",components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}}))),s.a.createElement(u.a,{xs:"12",md:"3",className:"justify-content-end"},s.a.createElement("div",{className:"mb-1 text-muted"},"\xa0"),s.a.createElement("div",{className:"mb-3"},s.a.createElement(N.a,{type:"text",placeholder:"Search..."}))),s.a.createElement(u.a,{xs:"12",md:"3",className:"d-flex align-items-center justify-content-end"},s.a.createElement(x.a,{color:"primary",className:"mr-2 text-light"},"Create")),s.a.createElement(u.a,{xs:"12"},be.activityDetails.length<=0&&s.a.createElement(p.a,{className:"shadow-sm"},s.a.createElement(v.a,{className:"position-relative"},s.a.createElement("div",{style:{width:"100%",height:"500px"},className:"d-flex align-items-center justify-content-center text-muted"}," No Activities "))),be.activityDetails.filter((function(e){return"draft"!==e.status})).map((function(e,t){var a,n,i,l,r,o,c,m,f,g,E,b,N,j,D;return s.a.createElement(p.a,{className:"shadow-sm",key:t},s.a.createElement(v.a,{className:"position-relative"},s.a.createElement("div",{className:"position-absolute",style:{right:20}},s.a.createElement(h.a,{className:"font-lg text-uppercase text-light",color:"".concat("document"===e.category?"danger":"discussion"===e.category?"warning":"primary")},e.category)),s.a.createElement("div",{className:"font-lg font-weight-bold mb-1"},e.createdBy.name),s.a.createElement("div",{className:"text-muted mb-3"},A.a.utc(e.createdAt).local().format("DD MMMM YYYY hh:mm")),"deliverable"===e.category&&s.a.createElement("div",null,s.a.createElement(d.a,{className:"my-1"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Meeting Date")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},null===e||void 0===e||null===(a=e.content)||void 0===a||null===(n=a.meeting)||void 0===n?void 0:n.date)),s.a.createElement(d.a,{className:"my-1"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Meeting Time")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9",className:"d-flex align-items-center justify-content-between"},null===e||void 0===e||null===(i=e.content)||void 0===i||null===(l=i.meeting)||void 0===l?void 0:l.startTime," - ",null===e||void 0===e||null===(r=e.content)||void 0===r||null===(o=r.meeting)||void 0===o?void 0:o.endTime)),s.a.createElement(d.a,{className:"my-1"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Attendees")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9",className:"d-flex"},null===e||void 0===e||null===(c=e.content)||void 0===c||null===(m=c.attendees)||void 0===m?void 0:m.map((function(t,a){var n;return s.a.createElement("div",{key:a}," ",t.name,s.a.createElement("span",{className:"text-capitalize"},"(",t.role,")"),(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.attendees.length)===a+1?"":",")})))),s.a.createElement(d.a,{className:"my-1"},s.a.createElement(u.a,{xs:"12",md:"4",lg:"3",className:"d-flex align-items-center"},s.a.createElement(y.a,null,"Additional attendees")),s.a.createElement(u.a,{xs:"12",md:"8",lg:"9"},null===e||void 0===e||null===(f=e.content)||void 0===f?void 0:f.additionalAttendees.map((function(e){return e.label}))))),s.a.createElement("div",{className:"mb-3 activity-text"},Object(U.a)(e.text)),"pending"===e.status&&"professional"!==Q.role&&s.a.createElement("div",{className:"mb-3 d-flex justify-content-end"},s.a.createElement(x.a,{color:"warning",onClick:function(){return ue({id:e.id,status:"rejected",statusMessage:"",open:!0})}},"To Revise"),s.a.createElement(x.a,{color:"success",className:"mx-2",onClick:function(){return ue({id:e.id,status:"approved",statusMessage:"",open:!0})}},"Approve"),s.a.createElement(x.a,{color:"secondary"},"Download")),(null===(g=e.content)||void 0===g||null===(E=g.replies)||void 0===E?void 0:E.length)>0&&s.a.createElement("div",{className:"pl-5"},null===(b=e.content)||void 0===b||null===(N=b.replies)||void 0===N?void 0:N.map((function(e,t){return s.a.createElement(p.a,{className:"my-1",key:t},s.a.createElement(v.a,{className:"p-3"},s.a.createElement("div",{className:"font-lg font-weight-bold mb-1"},e.createdBy.name),s.a.createElement("div",{className:"text-muted mb-3"},A()(e.createdAt).format("DD MMMM YYYY hh:mm")),s.a.createElement("div",null,e.comment)))}))),s.a.createElement("div",{className:"".concat((null===(j=e.content)||void 0===j||null===(D=j.replies)||void 0===D?void 0:D.length)>0&&"pl-5")},s.a.createElement(I.a,{rows:"3",name:"comment",id:"comment",style:{borderRadius:"10px"},className:"form-control",placeholder:"Type your reply...",onChange:function(t){return ce({idActivity:e.id,comment:t.target.value})},onKeyPress:function(e){"Enter"===e.key&&(e.target.blur(),P.a.post("v1/project/".concat(X.params.projectId,"/activity-reply"),oe).then((function(e){z.a.success("Reply Successfully"),ce({idActivity:"",comment:""}),ge()})).catch((function(e){z.a.error("Reply Failed")})))}}))))})),s.a.createElement("div",{ref:ee}),s.a.createElement(j.a,{isOpen:de.open,centered:!0,toggle:function(){return ue({id:0,status:"",statusMessage:"",open:!1})}},s.a.createElement(D.a,{className:"p-5"},s.a.createElement(d.a,null,s.a.createElement(u.a,{xs:"12"},s.a.createElement("div",{className:"mb-2"},"Are you sure you want to ",de.status," this deliverable ?")),"rejected"===de.status&&s.a.createElement(u.a,{xs:"12",className:"mb-5"},s.a.createElement(I.a,{minRows:3,style:{borderRadius:"10px"},className:"form-control",placeholder:"Type your message...",onChange:function(e){return ue((function(t){return Object(r.a)(Object(r.a)({},t),{},{statusMessage:e.target.value})}))}})),s.a.createElement(u.a,{xs:"12",className:"d-flex justify-content-end"},s.a.createElement(x.a,{color:"secondary",className:"mr-2",onClick:function(){return ue({id:0,status:"",statusMessage:"",open:!1})}},"Cancel"),s.a.createElement(x.a,{color:"primary",className:"text-capitalize",disabled:we,onClick:function(){return Ce(de.id,de.status,de.statusMessage)}},de.status)))))))))}}}]);
//# sourceMappingURL=12.51f6c9cd.chunk.js.map