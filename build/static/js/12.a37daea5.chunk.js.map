{"version":3,"sources":["views/DataDummy/SkillsColorsDummy.js","views/Menu/Projects/ProjectDetail.js"],"names":["data","useState","modalApply","setModalApply","matchRoute","useRouteMatch","useSWR","params","projectId","getProjects","errorProjects","error","loading","mutate","project","useMemo","useFormik","initialValues","cost","validationSchema","Yup","shape","min","label","onSubmit","values","setSubmitting","setErrors","request","post","submittedCost","parseInt","then","res","toast","success","catch","err","finally","touched","errors","setValues","handleSubmit","Card","CardBody","Row","Col","xs","className","name","projectOwnerName","moment","createdAt","format","closingDate","isApplied","Button","color","onClick","fromNow","description","completeDate","sector","duration","budget","projectRequirementSkill","map","s","i","Badge","key","skillsColours","Modal","isOpen","centered","toggle","ModalBody","InputGroup","InputGroupAddon","addonType","InputGroupText","Input","type","id","value","placeholder","onChange","e","state","target"],"mappings":"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","file":"static/js/12.a37daea5.chunk.js","sourcesContent":["export default [\n    'success',\n    'danger',\n    'warning',\n    'secondary',\n    'info',\n    'primary',\n    'light',\n    'dark'\n]","import React, { useMemo, useState } from \"react\"\nimport { Card, CardBody, Row, Col, Button, ModalBody, Modal, Badge, Input, InputGroup, InputGroupAddon, InputGroupText } from \"reactstrap\";\nimport { useFormik } from \"formik\";\nimport * as Yup from 'yup';\nimport skills from '../../DataDummy/SkillsDummy'\nimport skillsColours from '../../DataDummy/SkillsColorsDummy'\nimport { useRouteMatch } from \"react-router-dom\";\nimport useSWR from \"swr\";\nimport moment from \"moment\";\nimport request from \"../../../utils/request\";\nimport { toast } from \"react-toastify\";\n\n\nexport default ({ data }) => {\n    const [modalApply, setModalApply] = useState(false);\n    const matchRoute = useRouteMatch();\n    const { data: getProjects, error: errorProjects, mutate: mutateProjects } = useSWR(() => `v1/project/${matchRoute.params.projectId}`);\n    const loading = !getProjects || errorProjects;\n    const project = useMemo(() => {\n        return getProjects?.data?.data ?? [];\n    }, [getProjects]);\n\n    const ValidationFormSchema = () => {\n        return Yup.object().shape({\n            cost: Yup.number().min(1, 'Min value 1.').label('Duration'),\n        })\n    }\n\n    const { values, touched, errors, setValues, handleSubmit } = useFormik({\n        initialValues: {\n            cost: 0,\n        },\n        validationSchema: ValidationFormSchema,\n        onSubmit: (values, { setSubmitting, setErrors }) => {\n            setSubmitting(true)\n\n            request.post(`v1/project/${matchRoute.params.projectId}/apply`, {\n                submittedCost: parseInt(values.cost),\n            })\n                .then(res => {\n                    toast.success('Project successfully applied.');\n                })\n                .catch(err => {\n                    toast.error('Apply project failed.');\n                })\n                .finally(() => {\n                    setModalApply(!modalApply)\n                    setSubmitting(false)\n                })\n        }\n    })\n\n    if (loading) {\n        return (\n            <div>loading</div>\n        )\n    }\n    return (\n        <Card>\n            <CardBody>\n                <Row>\n                    <Col xs=\"12\" className=\"d-flex justify-content-between mb-3\">\n                        <div>\n                            <div className=\"font-lg font-weight-bold\">{project.name}</div>\n                            <div className=\"text-muted\">{project.projectOwnerName}</div>\n                            <div><span className=\"text-muted\">Posted</span> {moment(project.createdAt).format('DD MMMM YYYY')}</div>\n                            <div><span className=\"text-muted\">Closing On</span> {moment(project.closingDate).format('DD MMMM YYYY')}</div>\n                        </div>\n                        <div>\n                            <div className=\"float-right\">\n                                {project.isApplied ?\n                                    <div className=\"font-lg font-weight-bold text-primary\">Applied</div>\n                                    :\n                                    <Button color=\"primary\" onClick={() => setModalApply(!modalApply)}>\n                                        Apply\n                                    </Button>\n                                }\n                            </div>\n                            <br />\n                            <div className=\"mt-5 font-sm font-weight-bold text-danger\">Closing in {moment(project.closingDate).fromNow(true)}</div>\n                        </div>\n                    </Col>\n                    <Col xs=\"4\">\n                        <div className=\"font-lg font-weight-bold\">\n                            Description\n                        </div>\n                        <div>\n                            {project.description}\n                        </div>\n                    </Col>\n                    <Col xs=\"8\">\n                        <div className=\"font-lg font-weight-bold\">\n                            Requirements\n                        </div>\n                        <Row>\n                            <Col xs=\"6\">\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Completion Date</div>\n                                    <div>{moment(project.completeDate).format('DD MMMM YYYY')}</div>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Sector</div>\n                                    <div>{project.sector}</div>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Duration</div>\n                                    <div>{project.duration} Hours</div>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Budget</div>\n                                    <div>IDR {project.budget}</div>\n                                </div>\n                            </Col>\n                            <Col xs=\"6\">\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Skills</div>\n                                    {project.projectRequirementSkill.map((s, i) => (\n                                        <Badge key={i} color={skillsColours[i]} className=\"w-100 text-uppercase font-sm my-1 text-light\">{s.name}</Badge>\n                                    ))}\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Minimum years of experience</div>\n                                    <div>5 years</div>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div>Bachelor Degree in Mechanical Engineering</div>\n                                </div>\n                            </Col>\n                        </Row>\n                    </Col>\n                </Row>\n                <Modal isOpen={modalApply} centered toggle={() => setModalApply(!modalApply)}>\n                    <ModalBody className=\"p-5\">\n                        <Row>\n                            <Col xs=\"12\" className=\"mb-5\">\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Sector</div>\n                                    <div>{project.sector}</div>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Duration</div>\n                                    <div>{project.duration} Hours</div>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Completion Date</div>\n                                    <div>{moment(project.completeDate).format('DD MMMM YYYY')}</div>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <div className=\"text-muted\">Submited Cost</div>\n                                    <InputGroup>\n                                        <InputGroupAddon addonType=\"prepend\">\n                                            <InputGroupText>\n                                                IDR\n                                            </InputGroupText>\n                                        </InputGroupAddon>\n                                        <Input type=\"number\" name=\"cost\" id=\"cost\" value={values.cost} placeholder=\"1000000\" onChange={(e) => setValues(state => ({ ...state, cost: e.target.value }))} />\n                                    </InputGroup>\n                                    {touched.cost && errors.cost && <small className=\"text-danger\">{errors.cost}</small>}\n                                </div>\n                            </Col>\n                            <Col xs=\"12\" className=\"d-flex justify-content-end\">\n                                <Button color=\"secondary\" className=\"mr-2\" onClick={() => setModalApply(!modalApply)}>Cancel</Button>\n                                <Button color=\"primary\" onClick={handleSubmit}>Apply</Button>\n                            </Col>\n                        </Row>\n                    </ModalBody>\n                </Modal>\n            </CardBody>\n        </Card>\n    );\n}\n"],"sourceRoot":""}