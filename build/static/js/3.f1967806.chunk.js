(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[3],{374:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(0),l=a.n(n),r=a(381),c=a.n(r);function s(e){for(var t="",a=null===e||void 0===e?void 0:e.toString().split("").reverse().join(""),n=0;n<a.length;n++)n%3===0&&(t+=a.substr(n,3)+".");return t.split("",t.length-1).reverse().join("")}function i(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"B"},{divider:1e6,suffix:"mio"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return l.a.createElement("div",{className:"d-flex justify-content-center align-items-baseline"},"k"===t[a].suffix?(e/t[a].divider).toFixed(0).toString():(e/t[a].divider).toFixed(1).toString(),l.a.createElement("span",{style:{fontSize:20}},t[a].suffix));return e.toString()}c.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),c.a.locale("indonesia")},395:function(e,t,a){"use strict";t.a={draft:"Draft",pending:"For Review",rejected:"To Revise",approved:"Approved"}},430:function(e,t,a){"use strict";t.a={open:"Open",expired:"Expired",under_review:"Under Review",tnc_review:"T&C Review",on_going:"Ongoing",close:"Closed",void:"Void",deliverable_approved:"Approved"}},514:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(12),r=a(0),c=a.n(r),s=a(513),i=a(343),o=a(358),m=a(363),d=a(364),u=a(365),p=a(367),v=a(368),E=a(211),f=a(370),g=a(607),b=a(351),x=a(771),h=a(369),N=a(356),y=(a(466),a(361),a(33)),j=a.n(y),w=a(443),S=a(110),k=a(169),C=a(15),D=a(374),A=a(395),O=a(430),_=Object(s.b)(j.a);var P=function(e){var t=e.data,a=Object(r.useState)([]),s=Object(l.a)(a,2),i=s[0],b=s[1],x=Object(r.useCallback)((function(e){var t=e.target,a=t.value,l=t.checked;b(l?function(e){return[].concat(Object(n.a)(e),[a])}:function(e){return e.filter((function(e){return e!==a}))})}),[b]),h=Object(r.useMemo)((function(){var e,a=i.length>0?null===t||void 0===t||null===(e=t.projectList)||void 0===e?void 0:e.filter((function(e){return i.includes(e.approvalStatus)})):null===t||void 0===t?void 0:t.projectList;return null!==a&&void 0!==a?a:[]}),[t,i]);return c.a.createElement(d.a,{className:"shadow-sm"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"my-1 text-center"},c.a.createElement("h4",null,"Project Status")),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(v.a,{addonType:"prepend"},c.a.createElement(E.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"applied",value:"applied",checked:i.includes("applied"),onChange:x}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Applied"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(v.a,{addonType:"prepend"},c.a.createElement(E.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"under_review",value:"under_review",checked:i.includes("under_review"),onChange:x}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Under Review"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(v.a,{addonType:"prepend"},c.a.createElement(E.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"tnc_review",value:"tnc_review",checked:i.includes("tnc_review"),onChange:x}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"T&C Review"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(v.a,{addonType:"prepend"},c.a.createElement(E.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"on_going",value:"on_going",checked:i.includes("on_going"),onChange:x}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Ongoing"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(v.a,{addonType:"prepend"},c.a.createElement(E.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"deliverable_approved",value:"deliverable_approved",checked:i.includes("deliverable_approved"),onChange:x}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Approved"))),c.a.createElement(m.a,{xs:"6",md:"4",lg:"2"},c.a.createElement(p.a,null,c.a.createElement(v.a,{addonType:"prepend"},c.a.createElement(E.a,{className:"bg-transparent border-0 px-0"},c.a.createElement(f.a,{type:"checkbox",id:"close",value:"close",checked:i.includes("close"),onChange:x}))),c.a.createElement("div",{className:"d-flex bg-transparent p-1 align-items-center"},"Closed"))),c.a.createElement(m.a,{xs:"12",className:"my-1"},c.a.createElement(g.a,{hover:!0,responsive:!0,className:"text-center"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-left"},"Project Name"),c.a.createElement("th",null,"Client Name"),c.a.createElement("th",null,"Completion Date"),c.a.createElement("th",null,"Deliverable Status"),c.a.createElement("th",null,"Project Status"))),c.a.createElement("tbody",null,h.length>0?h.map((function(e,t){var a,n;return c.a.createElement("tr",{key:t},c.a.createElement("td",{className:"text-left"},c.a.createElement(C.b,{to:"".concat(["on_going","deliverable_approved"].includes(e.projectStatus)?"/project/".concat(e.idProject,"/wall"):["close"].includes(e.projectStatus)?e.isAlreadyRated?"/project/".concat(e.idProject,"/wall"):"/rate/".concat(e.idProject):"/project/".concat(e.idProject)),className:"".concat(e.isAlreadyRated?"text-dark":"close"===e.projectStatus?"text-pinion-secondary":"text-dark")},e.projectName)),c.a.createElement("td",null,e.clientName),c.a.createElement("td",null,j()(null!==(a=null===e||void 0===e?void 0:e.completeDate)&&void 0!==a?a:"").format("DD-MM-YYYY")),c.a.createElement("td",{className:"text-uppercase"},null!==(n=A.a[null===e||void 0===e?void 0:e.activityStatus])&&void 0!==n?n:"-"),c.a.createElement("td",{className:"text-uppercase"},O.a[null===e||void 0===e?void 0:e.projectStatus]))})):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"5",className:"text-center text-muted"},"No Data"))))))))},R=function(e){var t=e.data;return c.a.createElement(d.a,{className:"shadow-sm mt-3"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"my-1 text-center"},c.a.createElement("h4",null,"Project Statistics")),c.a.createElement(m.a,{xs:"12",className:"d-flex my-1 justify-content-center text-center"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of projects in tender"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(b.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.applied))),c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of active projects"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(b.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.onGoing))),c.a.createElement(m.a,{xs:"12",md:"4"},c.a.createElement("p",{style:{whiteSpace:"nowrap"}},"Number of completed projects"),c.a.createElement("div",{className:"d-flex justify-content-center",style:{fontSize:"50pt"}},c.a.createElement(b.a,{color:"secondary",className:"d-flex justify-content-center",style:{width:80,height:80}},t.close))))))))},T=function(e){var t,a,n=e.events,p=Object(r.useState)(null),v=Object(l.a)(p,2),E=v[0],f=v[1],g=function(e){f(e)};return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,{style:{height:"60vh"}},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h4",{className:"mb-4"},"My Calendar"),n?c.a.createElement(s.a,{popup:!0,localizer:_,defaultDate:new Date,messages:{previous:c.a.createElement("i",{className:"fa fa-angle-left"}),next:c.a.createElement("i",{className:"fa fa-angle-right"})},components:{event:function(e){return c.a.createElement("div",null,c.a.createElement("div",{id:"".concat(e.title.replace(" ",""),"-").concat(e.event.project.id),className:"title-calendar"},e.title),c.a.createElement(x.a,{placement:"bottom",target:"".concat(e.title.replace(" ",""),"-").concat(e.event.project.id)},e.title))},agenda:{event:function(e){return c.a.createElement("div",null,c.a.createElement("small",{className:"text-muted"},e.event.project.name),c.a.createElement("div",{className:"text-dark"},e.title))}}},defaultView:"month",views:["month","agenda"],events:n,style:{height:"50vh"},onSelectEvent:function(e){return g(e)}}):c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(i.a,{style:{width:48,height:48}})))),c.a.createElement(h.a,{centered:!0,size:"sm",isOpen:!!E,toggle:function(){return g(null)}},c.a.createElement(N.a,{className:"p-4 text-center"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",className:"d-flex justify-content-end"},c.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return g(null)}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement(m.a,{xs:"12",className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Activity"),c.a.createElement("div",{className:"font-weight-bold"},null===E||void 0===E?void 0:E.title)),c.a.createElement(m.a,{xs:"12",className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Date"),c.a.createElement("div",{className:"font-weight-bold"},j()(null===E||void 0===E?void 0:E.start).format("DD MMMM YYYY"))),c.a.createElement(m.a,{xs:"12"},c.a.createElement("div",{className:"text-muted"},"Project"),c.a.createElement(C.b,{to:"/project/".concat(null===E||void 0===E||null===(t=E.project)||void 0===t?void 0:t.id,"/wall"),className:"font-weight-bold"},null===E||void 0===E||null===(a=E.project)||void 0===a?void 0:a.name)))))))},z=function(e){var t,a=e.data,n=["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"],l={labels:a.skillList.map((function(e){return e.name})),datasets:[{label:"Skills",data:a.skillList.map((function(e){return e.value})),backgroundColor:a.skillList.map((function(e,t){return n[t%a.skillList.length]})),borderWidth:1}]},r={labels:a.sectorList.map((function(e){return e.name})),datasets:[{label:"Sectors",data:a.sectorList.map((function(e){return e.value})),backgroundColor:a.sectorList.map((function(e,t){return n[t%a.sectorList.length]})),borderWidth:1}]};return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,{style:{minHeight:"60vh"}},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h4",{className:"mb-4"},"Trends")),c.a.createElement(m.a,{xs:"12"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12",md:"6",className:"px-0 mb-3 mb-md-0"},c.a.createElement("h6",null,"Average Time per Project"),c.a.createElement("div",{style:{fontSize:"30pt"}},a.totalDurationCloseProject?(a.totalDurationCloseProject/a.totalClosedProject).toFixed(0):0," hrs"),c.a.createElement("small",{className:"text-muted"},"Total ",a.totalDurationCloseProject," hours")),c.a.createElement(m.a,{xs:"12",md:"6",className:"px-0"},c.a.createElement("h6",null,"Bid Success Rate"),c.a.createElement("div",{style:{fontSize:"30pt"}},null===(t=a.bidSuccessRate)||void 0===t?void 0:t.toFixed(0),"%"),c.a.createElement("small",{className:"text-muted"},a.totalSuccessBid,"/",a.totalBidProject," projects")),c.a.createElement(m.a,{xs:"12",md:"12",className:"mt-2"},c.a.createElement("div",null,"Skills"),c.a.createElement("div",null,c.a.createElement(w.a,{data:l,options:{maintainAspectRatio:!1,legend:!1,tooltips:{mode:"label"},scales:{xAxes:[{display:!1}]},responsive:!0,responsiveAnimationDuration:2e3,hover:{intersect:!0,mode:"point"},onHover:function(e,t){e.target.style.cursor=t[0]?"pointer":"default"}},height:200,width:700}))),c.a.createElement(m.a,{xs:"12",md:"12",className:"mt-2"},c.a.createElement("div",null,"Sectors"),c.a.createElement("div",null,c.a.createElement(w.a,{data:r,options:{maintainAspectRatio:!1,legend:!1,tooltips:{mode:"label"},scales:{xAxes:[{display:!1}]},responsive:!0,responsiveAnimationDuration:2e3,hover:{intersect:!0,mode:"point"},onHover:function(e,t){e.target.style.cursor=t[0]?"pointer":"default"}},height:200}))))))))},L=function(e){var t,a,n,l=e.data;return c.a.createElement(d.a,{className:"shadow-sm mt-3 text-center"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h3",{className:"mb-4"},"Finance")),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Total project value"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(D.a)(null!==(t=null===l||void 0===l?void 0:l.totalAR)&&void 0!==t?t:0))),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Average value per project"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(D.a)(null!==(a=null===l||void 0===l?void 0:l.averageAR)&&void 0!==a?a:0))),c.a.createElement(m.a,{xs:"12",lg:"4"},c.a.createElement("small",null,"Estimated project value on tender"),c.a.createElement("div",{style:{fontSize:"30pt",fontWeight:"bold"}},Object(D.a)(null!==(n=null===l||void 0===l?void 0:l.estimateAR)&&void 0!==n?n:0))))))};t.default=function(e){var t=Object(S.b)(),a=Object(k.b)((function(){return"v1/user/me/dashboard"})),n=a.data,l=a.error,s=!n||l,p=Object(r.useMemo)((function(){var e,t;return null!==(e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[n]);return s?c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(i.a,{style:{width:48,height:48}})):c.a.createElement(o.a,{className:"mt-md-3 mt-lg-n2"},c.a.createElement(m.a,{xs:"12"},c.a.createElement(d.a,{className:"shadow-sm"},c.a.createElement(u.a,null,c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:"12"},c.a.createElement("h2",{className:"font-weight-bold mb-4"},t.firstName," ",t.lastName)),c.a.createElement(m.a,{xs:"12"},c.a.createElement(P,{data:p})),c.a.createElement(m.a,{xs:"12"},c.a.createElement(R,{data:null===p||void 0===p?void 0:p.projectStatistics})),c.a.createElement(m.a,{xs:"12",lg:"5"},c.a.createElement(T,{events:null===p||void 0===p?void 0:p.calenderDetails})),c.a.createElement(m.a,{xs:"12",lg:"7"},c.a.createElement(z,{data:null===p||void 0===p?void 0:p.trendDetails})),c.a.createElement(m.a,{xs:"12"},c.a.createElement(L,{data:null===p||void 0===p?void 0:p.financeStatistics})))))))}}}]);
//# sourceMappingURL=3.f1967806.chunk.js.map