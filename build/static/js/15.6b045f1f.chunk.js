(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[15],{406:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(410),l=a.n(n);function r(e){for(var t="",a=e.toString().split("").reverse().join(""),n=0;n<a.length;n++)n%3===0&&(t+=a.substr(n,3)+".");return t.split("",t.length-1).reverse().join("")}function c(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}l.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),l.a.locale("indonesia")},422:function(e,t,a){"use strict";t.a=["success","danger","warning","secondary","info","primary","dark"]},659:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a(11),r=a(0),c=a.n(r),m=a(391),i=a(392),s=a(383),o=a(388),d=a(382),u=a(377),v=a(395),E=a(381),p=a(393),f=a(394),b=a(218),N=a(27),x=a(8),g=a(422),h=a(16),j=a(168),M=a(34),y=a.n(M),D=a(18),S=a(21),Y=a(457),w=a(108),C=a(406);t.default=function(e){e.data;var t,a,M=Object(h.g)(),O=Object(r.useState)(!1),k=Object(l.a)(O,2),I=k[0],P=k[1],R=Object(h.i)(),V=Object(w.b)(),A=Object(j.b)((function(){return"v1/project/".concat(R.params.projectId)})),T=A.data,q=A.error,H=A.mutate,J=!T||q,B=Object(r.useMemo)((function(){var e,t;return null!==(e=null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[T]),G=Object(N.a)({initialValues:{cost:0},validationSchema:function(){return x.d().shape({cost:x.c().min(V.smcv,"Min value "+V.smcv).label("Duration")})},onSubmit:function(e,t){var a=t.setSubmitting;t.setErrors;a(!0),D.a.post("v1/project/".concat(R.params.projectId,"/apply"),{submittedCost:parseInt(e.cost)}).then((function(e){S.a.success("Project successfully applied."),H()})).catch((function(e){S.a.error("Apply project failed.")})).finally((function(){P(!I),a(!1)}))}}),L=G.values,W=G.touched,z=G.errors,F=G.setValues,K=G.handleSubmit;return J?(B.status&&"open"!==B.status&&M.push("/"),c.a.createElement("div",null,"loading")):c.a.createElement(m.a,null,c.a.createElement(i.a,null,c.a.createElement(s.a,null,c.a.createElement(o.a,{xs:"12",className:"d-flex justify-content-between mb-3"},c.a.createElement("div",null,c.a.createElement("div",{className:"font-lg font-weight-bold"},B.name),c.a.createElement("div",{className:"text-muted"},B.projectOwnerName),c.a.createElement("div",null,c.a.createElement("span",{className:"text-muted"},"Posted")," ",y()(B.createdAt).format("DD MMMM YYYY")),c.a.createElement("div",null,c.a.createElement("span",{className:"text-muted"},"Closing On")," ",y()(B.closingDate).format("DD MMMM YYYY"))),c.a.createElement("div",null,c.a.createElement("div",{className:"float-right"},B.isApplied?c.a.createElement(d.a,{color:"primary",disabled:!0},"Applied"):c.a.createElement(d.a,{color:"primary",disabled:"open"!==B.status,onClick:function(){return P(!I)}},"Apply")),c.a.createElement("br",null),"open"===B.status?c.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closing in ",y()(B.closingDate).fromNow(!0)):c.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closed"))),c.a.createElement(o.a,{xs:"12"},c.a.createElement(s.a,null,c.a.createElement(o.a,{xs:"9"},c.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Project Details"),c.a.createElement(s.a,null,c.a.createElement(o.a,{xs:"6"},c.a.createElement("div",{className:"text-muted"},"Description"),c.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(t=B.description)&&void 0!==t?t:"")),c.a.createElement(o.a,{xs:"6"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Meeting Date"),c.a.createElement("div",null,y()(B.meetingDetails.date).format("DD MMMM YYYY"))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Sector"),c.a.createElement("div",null,B.sectors.map((function(e,t){return"".concat(e.sector.name).concat(B.sectors.length===t+1?"":","," ")})))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Duration"),c.a.createElement("div",null,B.duration," Hours")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Minimum Contract Value"),c.a.createElement("div",null,"IDR ",B.minimumContractValue)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Estimated Contract Value"),c.a.createElement("div",null,"IDR ",B.estimatedContractValue)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Supporting Materials"),c.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(a=B.prerequisite)&&void 0!==a?a:"-"))))),c.a.createElement(o.a,{xs:"3"},c.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Requirements"),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Skills"),B.projectRequirementSkill.map((function(e,t){return c.a.createElement(u.a,{key:t,color:g.a[t],className:"w-100 text-uppercase font-sm my-1 text-light"},e.skill.name)}))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Minimum years of experience"),c.a.createElement("div",null,"5 years")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",null,"Bachelor Degree in Mechanical Engineering")))))),c.a.createElement(v.a,{isOpen:I,centered:!0,toggle:function(){return P(!I)}},c.a.createElement(E.a,{className:"p-5"},c.a.createElement(s.a,null,c.a.createElement(o.a,{xs:"12",className:"mb-5"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Project name"),c.a.createElement("div",null,B.name)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Duration"),c.a.createElement("div",null,B.duration," Hours")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Completion date"),c.a.createElement("div",null,y()(B.completeDate).format("DD MMMM YYYY"))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Proposed service fee"),c.a.createElement(p.a,null,c.a.createElement(f.a,{addonType:"prepend"},c.a.createElement(b.a,null,"IDR")),c.a.createElement(Y.a,{placeholder:"Min. value 500.000",decimalsLimit:2,groupSeparator:".",decimalSeparator:",",value:L.cost,onValueChange:function(e){return F((function(t){return Object(n.a)(Object(n.a)({},t),{},{cost:e})}))},className:"form-control ".concat(W.cost&&z.cost&&"border border-danger")})),c.a.createElement("small",{className:"text-muted"},"*Minimum proposed service fee should be Rp ",Object(C.b)(V.smcv)))),c.a.createElement(o.a,{xs:"12",className:"mb-3"},c.a.createElement("small",{className:"text-muted"},"*Platform fee 5% and WHT would be deducted from project value")),c.a.createElement(o.a,{xs:"12",className:"d-flex justify-content-end"},c.a.createElement(d.a,{color:"secondary",className:"mr-2",onClick:function(){return P(!I)}},"Cancel"),c.a.createElement(d.a,{color:"primary",onClick:K},"Apply")))))))}}}]);
//# sourceMappingURL=15.6b045f1f.chunk.js.map