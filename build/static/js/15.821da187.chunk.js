(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[15],{402:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(409),l=a.n(n);function r(e){for(var t="",a=e.toString().split("").reverse().join(""),n=0;n<a.length;n++)n%3===0&&(t+=a.substr(n,3)+".");return t.split("",t.length-1).reverse().join("")}function c(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}l.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),l.a.locale("indonesia")},421:function(e,t,a){"use strict";t.a=["success","danger","warning","secondary","info","primary","dark"]},658:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a(11),r=a(0),c=a.n(r),m=a(368),i=a(390),s=a(391),o=a(383),d=a(388),u=a(382),v=a(376),E=a(394),p=a(381),f=a(392),b=a(393),N=a(217),g=a(27),x=a(9),h=a(421),j=a(18),y=a(171),M=a(37),D=a.n(M),w=a(17),S=a(21),Y=a(456),C=a(111),O=a(402);t.default=function(e){e.data;var t,a,M=Object(j.g)(),k=Object(r.useState)(!1),I=Object(l.a)(k,2),P=I[0],R=I[1],V=Object(j.i)(),A=Object(C.b)(),T=Object(y.b)((function(){return"v1/project/".concat(V.params.projectId)})),q=T.data,H=T.error,J=T.mutate,B=!q||H,G=Object(r.useMemo)((function(){var e,t;return null!==(e=null===q||void 0===q||null===(t=q.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[q]),L=Object(g.a)({initialValues:{cost:0},validationSchema:function(){return x.d().shape({cost:x.c().min(A.smcv,"Min value "+A.smcv).label("Duration")})},onSubmit:function(e,t){var a=t.setSubmitting;t.setErrors;a(!0),w.a.post("v1/project/".concat(V.params.projectId,"/apply"),{submittedCost:parseInt(e.cost)}).then((function(e){S.a.success("Project successfully applied."),J()})).catch((function(e){S.a.error("Apply project failed.")})).finally((function(){R(!P),a(!1)}))}}),W=L.values,z=L.touched,F=L.errors,K=L.setValues,Q=L.handleSubmit;return B?(G.status&&"open"!==G.status&&M.push("/"),c.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(255,255,255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(m.a,{style:{width:48,height:48}}))):c.a.createElement(i.a,null,c.a.createElement(s.a,null,c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",className:"d-flex justify-content-between mb-3"},c.a.createElement("div",null,c.a.createElement("div",{className:"font-lg font-weight-bold"},G.name),c.a.createElement("div",{className:"text-muted"},G.projectOwnerName),c.a.createElement("div",null,c.a.createElement("span",{className:"text-muted"},"Posted")," ",D()(G.createdAt).format("DD MMMM YYYY")),c.a.createElement("div",null,c.a.createElement("span",{className:"text-muted"},"Closing On")," ",D()(G.closingDate).format("DD MMMM YYYY"))),c.a.createElement("div",null,c.a.createElement("div",{className:"float-right"},G.isApplied?c.a.createElement(u.a,{color:"primary",disabled:!0},"Applied"):c.a.createElement(u.a,{color:"primary",disabled:"open"!==G.status,onClick:function(){return R(!P)}},"Apply")),c.a.createElement("br",null),"open"===G.status?c.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closing in ",D()(G.closingDate).fromNow(!0)):c.a.createElement("div",{className:"mt-5 font-sm font-weight-bold text-danger"},"Closed"))),c.a.createElement(d.a,{xs:"12"},c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",lg:"9"},c.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Project Details"),c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement("div",{className:"text-muted"},"Description"),c.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(t=G.description)&&void 0!==t?t:"")),c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Meeting Date"),c.a.createElement("div",null,D()(G.meetingDetails.date).format("DD MMMM YYYY"))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Sector"),c.a.createElement("div",null,G.sectors.map((function(e,t){return"".concat(e.sector.name).concat(G.sectors.length===t+1?"":","," ")})))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Duration"),c.a.createElement("div",null,G.duration," Hours")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Minimum Contract Value"),c.a.createElement("div",null,"IDR ",G.minimumContractValue)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Estimated Contract Value"),c.a.createElement("div",null,"IDR ",G.estimatedContractValue)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Supporting Materials"),c.a.createElement("div",{style:{whiteSpace:"pre-line"}},null!==(a=G.prerequisite)&&void 0!==a?a:"-"))))),c.a.createElement(d.a,{xs:"12",lg:"3"},c.a.createElement("div",{className:"font-lg font-weight-bold mb-2"},"Requirements"),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Skills"),G.projectRequirementSkill.map((function(e,t){return c.a.createElement(v.a,{key:t,color:h.a[t],className:"w-100 text-uppercase font-sm my-1 text-light"},e.skill.name)}))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Minimum years of experience"),c.a.createElement("div",null,"5 years")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",null,"Bachelor Degree in Mechanical Engineering")))))),c.a.createElement(E.a,{isOpen:P,centered:!0,toggle:function(){return R(!P)}},c.a.createElement(p.a,{className:"p-5"},c.a.createElement(o.a,null,c.a.createElement(d.a,{xs:"12",className:"mb-5"},c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Project name"),c.a.createElement("div",null,G.name)),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Duration"),c.a.createElement("div",null,G.duration," Hours")),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Completion date"),c.a.createElement("div",null,D()(G.completeDate).format("DD MMMM YYYY"))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"text-muted"},"Proposed service fee"),c.a.createElement(f.a,null,c.a.createElement(b.a,{addonType:"prepend"},c.a.createElement(N.a,null,"IDR")),c.a.createElement(Y.a,{placeholder:"Min. value 500.000",decimalsLimit:2,groupSeparator:".",decimalSeparator:",",value:W.cost,onValueChange:function(e){return K((function(t){return Object(n.a)(Object(n.a)({},t),{},{cost:e})}))},className:"form-control ".concat(z.cost&&F.cost&&"border border-danger")})),c.a.createElement("small",{className:"text-muted"},"*Minimum proposed service fee should be Rp ",Object(O.b)(A.smcv)))),c.a.createElement(d.a,{xs:"12",className:"mb-3"},c.a.createElement("small",{className:"text-muted"},"*Platform fee 5% and WHT would be deducted from project value")),c.a.createElement(d.a,{xs:"12",className:"d-flex justify-content-end"},c.a.createElement(u.a,{color:"secondary",className:"mr-2",onClick:function(){return R(!P)}},"Cancel"),c.a.createElement(u.a,{color:"primary",onClick:Q},"Apply")))))))}}}]);
//# sourceMappingURL=15.821da187.chunk.js.map