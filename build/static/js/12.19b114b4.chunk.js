(this.webpackJsonppplatform=this.webpackJsonppplatform||[]).push([[12],{362:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return r}));var i=a(367),n=a.n(i);function l(e){for(var t="",a=e.toString().split("").reverse().join(""),i=0;i<a.length;i++)i%3===0&&(t+=a.substr(i,3)+".");return"IDR "+t.split("",t.length-1).reverse().join("")}function r(e){for(var t=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"k"}],a=0;a<t.length;a++)if(e>=t[a].divider)return(e/t[a].divider).toString()+t[a].suffix;return e.toString()}n.a.register("locale","indonesia",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"rb",million:"jt",billion:"M",trillion:"T"},ordinal:function(e){return 1===e?"er":"\xe8me"},currency:{symbol:"IDR"}}),n.a.locale("indonesia")},689:function(e,t,a){"use strict";a.r(t);var i=a(2),n=a(12),l=a(0),r=a.n(l),o=a(318),c=a(331),m=a(336),s=a(340),u=a(341),d=a(342),p=a(343),f=a(197),v=a(430),g=a(330),E=a(325),h=a(334),b=a(27),x=(a(8),a(79)),y=a.n(x),N=a(16),D=a(158),w=a(30),S=a.n(w),M={projectName:"Project Name",client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"},contractValue:1e9,stratingDate:"2021-09-07",closingDate:"2021-09-08",keyMilestones:[{activities:"Meeting Date",date:"2021-09-07"},{activities:"MoM Submission",date:"2021-09-07"},{activities:"Submission Approval",date:"2021-09-07"},{activities:"Payment Date",date:"2021-09-07"},{activities:"Payment acknowledgement",date:"2021-09-07"}],meeting:{link:"https://www.google.com/",date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},activities:[{id:1,category:"discussion",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],replies:[]},{id:2,category:"discussion",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],replies:[{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}]},{id:3,category:"deliverable",createdAt:"2021-09-09 12:30:10",createdBy:{id:1,name:"John Smith"},meeting:{date:"2021-09-07",startTime:"09:00:00",endTime:"12:00:00"},attendees:{client:{id:1,name:"John Smith"},professional:{id:2,name:"John Smurf"}},additionalAttendees:"Additional",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",files:[{id:1,name:"Document 1",link:"https://www.google.com/"},{id:2,name:"Document 2",link:"https://www.google.com/"}],status:"pending",replies:[{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:1,createdBy:{id:1,name:"John Smith"},createdAt:"2021-09-09 12:30:10",values:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}]}],files:[{id:1,url:"",mime:"image"},{id:2,url:"",mime:"file"},{id:3,url:"",mime:"video"}]},q=a(362),j=a(41),k=a(68),C=a(431),A=a(665),O=a(667),Y=a.n(O),J=(a(668),a(19)),T=a(28),I=a(20),B=a(669);t.default=function(){var e=Object(N.i)(),t=Object(l.useState)(C.EditorState.createEmpty()),a=Object(n.a)(t,2),x=a[0],w=a[1],O=Object(l.useState)({idActivity:"",comment:""}),L=Object(n.a)(O,2),P=L[0],U=L[1],F=Object(l.useState)(!1),R=Object(n.a)(F,2),V=(R[0],R[1],Object(D.b)((function(){return"v1/project/".concat(e.params.projectId,"/activity")}))),K=V.data,z=V.error,G=V.mutate,_=!K||z,H=Object(l.useMemo)((function(){var e,t;return null!==(e=null===K||void 0===K||null===(t=K.data)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}),[K]),Q=Object(b.a)({initialValues:{category:"discussion",content:{},text:""},onSubmit:function(t,a){var i=a.setSubmitting,n=(a.setErrors,a.setValues);i(!0);var l=new FormData;l.append("category",t.category),l.append("content",JSON.stringify(t.content)),l.append("text",t.text),I.a.post("v1/project/".concat(e.params.projectId,"/activity"),l).then((function(e){T.a.success("Create Discussion Successfully"),n({category:"discussion",content:{},text:""}),w(C.EditorState.createEmpty()),G()})).catch((function(e){T.a.error("Create Discussion Failed.")})).finally((function(){i(!1)}))}}),W=Q.values,X=(Q.touched,Q.errors,Q.setValues),Z=Q.handleSubmit,$=Q.isSubmitting;if(_)return r.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(o.a,{style:{width:48,height:48}}));return r.a.createElement(c.a,null,r.a.createElement(m.a,{xs:"12"},r.a.createElement("div",{className:"font-xl font-weight-bold mb-4"},H.projectName)),r.a.createElement(m.a,{xs:"12",md:"4"},r.a.createElement(s.a,{className:"shadow-sm"},r.a.createElement(u.a,null,r.a.createElement(c.a,null,r.a.createElement(m.a,{xs:"12"},r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},"Client")," ",H.client.name),r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},"Consultant")," ",H.professional.name),r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},"Contract value")," ",Object(q.b)(M.contractValue)),r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},"Starting Date")," ",S()(H.stratingDate).format("DD MMMM YYYY")),r.a.createElement("div",null,r.a.createElement("span",{className:"text-muted"},"Closing Date")," ",S()(H.closingDate).format("DD MMMM YYYY")))))),r.a.createElement(s.a,{className:"shadow-sm"},r.a.createElement(u.a,null,r.a.createElement(c.a,null,r.a.createElement(m.a,{xs:"12"},r.a.createElement("div",{className:"font-lg font-weight-bold mb-3"},"Meeting"),r.a.createElement("div",{className:"text-muted"},"Meeting Link ",r.a.createElement("a",{href:M.meeting.link,target:"_blank",rel:"noopener noreferrer",className:"font-weight-bold ml-1"},"Click here")," "),r.a.createElement("div",{className:"mt-2"},r.a.createElement("div",{className:"text-muted mb-1"},"Meeting Date"),r.a.createElement(d.a,null,r.a.createElement(p.a,{addonType:"prepend",className:"w-100"},r.a.createElement(y.a,{required:!0,name:"startDate",selected:new Date(M.meeting.date+" "+M.meeting.startTime),dateFormat:"dd MMMM yyyy hh:mm",minDate:new Date,placeholderText:"Select a date",className:"form-control",showTimeInput:!0,autoComplete:"off",onChangeRaw:function(e){return e.preventDefault()}}),r.a.createElement(f.a,null,r.a.createElement(j.a,{icon:"calendar-alt"})))))))))),r.a.createElement(m.a,{xs:"12",md:"8"},r.a.createElement(s.a,{className:"shadow-sm"},r.a.createElement(u.a,null,r.a.createElement(c.a,null,r.a.createElement(m.a,{xs:"12"},r.a.createElement("div",{className:"font-lg font-weight-bold mb-3"},"Key Milestone")),r.a.createElement(m.a,{xs:"12"},r.a.createElement(v.a,{bordered:!0,className:"text-center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Activities"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,M.keyMilestones.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.activities),r.a.createElement("td",null,S()(e.date).add(t,"days").format("DD MMMM YYYY")))}))))),r.a.createElement(m.a,{xs:"12",className:"d-flex justify-content-between align-items-center"},r.a.createElement(g.a,{color:"secondary",className:"mr-2 text-light"},"Project Files"),r.a.createElement("div",null,r.a.createElement("div",{className:"mb-1 text-muted"},"Status of deliverable"),r.a.createElement("div",{className:"mb-3 text-center"},r.a.createElement(E.a,{color:"info",className:"font-lg text-light"},"Draft")))))))),r.a.createElement(m.a,{xs:"12"},r.a.createElement(s.a,{className:"shadow-sm"},r.a.createElement(u.a,null,r.a.createElement(c.a,null,r.a.createElement(m.a,{xs:"12",className:"mb-3"},r.a.createElement(g.a,{color:"".concat("discussion"===W.category?"primary":"light"),className:"text-dark mr-3",onClick:function(){return X((function(e){return Object(i.a)(Object(i.a)({},e),{},{category:"discussion"})}))}},"Discussion"),r.a.createElement(g.a,{color:"".concat("deliverable"===W.category?"primary":"light"),className:"text-dark",onClick:function(){return X((function(e){return Object(i.a)(Object(i.a)({},e),{},{category:"deliverable"})}))}},"Deliverable")),r.a.createElement(m.a,{xs:"12"},r.a.createElement(A.Editor,{editorState:x,editorStyle:{height:"300px"},onEditorStateChange:function(e){return w(e)},onContentStateChange:function(e){return function(e){X((function(t){return Object(i.a)(Object(i.a)({},t),{},{text:Y()(e)})}))}(e)}})),r.a.createElement(m.a,{xs:"12"}),r.a.createElement(m.a,{xs:"12"},r.a.createElement(g.a,{color:"info",className:"text-light"}," ",r.a.createElement(j.a,{icon:"upload"})," Attachment"),r.a.createElement(g.a,{color:"primary",className:"float-right",onClick:Z,disabled:$},$?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{color:"light",size:"sm"})," Loading..."):"Post")))))),r.a.createElement(m.a,{xs:"12"},r.a.createElement(c.a,null,r.a.createElement(m.a,{xs:"12",md:"3"},r.a.createElement("div",{className:"mb-1 text-muted"},"Category"),r.a.createElement("div",{className:"mb-3"},r.a.createElement(J.a,{closeMenuOnSelect:!1,isClearable:!0,placeholder:"Choose a category...",components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}}))),r.a.createElement(m.a,{xs:"12",md:"3"},r.a.createElement("div",{className:"mb-1 text-muted"},"Date Sort"),r.a.createElement("div",{className:"mb-3"},r.a.createElement(J.a,{closeMenuOnSelect:!1,isClearable:!0,placeholder:"Choose a date sort...",components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}}}))),r.a.createElement(m.a,{xs:"12",md:"3",className:"justify-content-end"},r.a.createElement("div",{className:"mb-1 text-muted"},"\xa0"),r.a.createElement("div",{className:"mb-3"},r.a.createElement(h.a,{type:"text",placeholder:"Search..."}))),r.a.createElement(m.a,{xs:"12"},H.activityDetails.map((function(t,a){var i,n,l,o,c,m;return r.a.createElement(s.a,{className:"shadow-sm",key:a},r.a.createElement(u.a,{className:"position-relative"},r.a.createElement("div",{className:"position-absolute",style:{right:20}},r.a.createElement(E.a,{className:"font-lg text-uppercase text-light",color:"".concat("document"===t.category?"danger":"discussion"===t.category?"warning":"primary")},t.category)),r.a.createElement("div",{className:"font-lg font-weight-bold mb-1"},t.createdBy.name),r.a.createElement("div",{className:"text-muted mb-3"},S()(t.createdAt).format("DD MMMM YYYY hh:mm")),r.a.createElement("div",{className:"mb-3 activity-text"},Object(B.a)(t.text)),(null===(i=t.content)||void 0===i||null===(n=i.replies)||void 0===n?void 0:n.length)>0&&r.a.createElement("div",{className:"pl-5"},null===(l=t.content)||void 0===l||null===(o=l.replies)||void 0===o?void 0:o.map((function(e,t){return r.a.createElement(s.a,{className:"my-1",key:t},r.a.createElement(u.a,{className:"p-3"},r.a.createElement("div",{className:"font-lg font-weight-bold mb-1"},e.createdBy.name),r.a.createElement("div",{className:"text-muted mb-3"},S()(e.createdAt).format("DD MMMM YYYY hh:mm")),r.a.createElement("div",null,e.comment)))}))),r.a.createElement("div",{className:"".concat((null===(c=t.content)||void 0===c||null===(m=c.replies)||void 0===m?void 0:m.length)>0&&"pl-5")},r.a.createElement(k.a,{rows:"3",name:"comment",id:"comment",style:{borderRadius:"10px"},className:"form-control",placeholder:"Type your reply...",onChange:function(e){return U({idActivity:t.id,comment:e.target.value})},onKeyPress:function(t){"Enter"===t.key&&(t.target.blur(),I.a.post("v1/project/".concat(e.params.projectId,"/activity-reply"),P).then((function(e){T.a.success("Reply Successfully"),U({idActivity:"",comment:""}),G()})).catch((function(e){T.a.error("Reply Failed")})))}}))))}))))))}}}]);
//# sourceMappingURL=12.19b114b4.chunk.js.map